(function($){$.organicTabs=function(el,options){var base=this;base.$el=$(el);base.$nav=base.$el.find(".tabs_nav");base.init=function(){base.options=$.extend({},$.organicTabs.defaultOptions,options);$(".hidden_tab").css({"position":"absolute","top":0,"left":"-9999em",});base.$nav.on("click","li > a",function(){var curList=base.$el.find("a.current").attr("href").substring(1),$newList=$(this),listID=$newList.attr("href").substring(1),$allListWrap=base.$el.find(".tabs_container"),curListHeight=$allListWrap.height();$allListWrap.height(curListHeight);if((listID!=curList)&&(base.$el.find(":animated").length==0)){base.$el.find("#"+curList).fadeOut(base.options.speed,function(){base.$el.find("#"+listID).css({"position":"relative","left":"auto"}).fadeIn(base.options.speed);var newHeight=base.$el.find("#"+listID).height();base.$el.find(".tabs_nav li a").removeClass("current");$newList.addClass("current")})}return false})};base.init()};$.organicTabs.defaultOptions={"speed":300};$.fn.organicTabs=function(options){return this.each(function(){(new $.organicTabs(this,options))})}})(jQuery);




/**
 * jCanvas v13.09.16
 * Copyright 2013 Caleb Evans
 * Released under the MIT license
 */(function(e,t,n,r,i,s,o,u,a){function L(e){var t=this;l(t,e);return t}function A(e){e?l(L.prototype,e):A.prefs=L.prototype=l({},f);return this}function O(e){return h(e)==="string"}function M(e){return e&&e.getContext?e.getContext("2d"):u}function _(e){e=l({},e);e.masks=e.masks.slice(0);return e}function D(e,t){var n;e.save();n=_(t.transforms);t.savedTransforms.push(n)}function P(e,t){if(t.savedTransforms.length===0)t.transforms=_(N);else{e.restore();t.transforms=t.savedTransforms.pop()}}function H(e,t,n){p(n.fillStyle)?t.fillStyle=n.fillStyle.call(e,n):t.fillStyle=n.fillStyle;p(n.strokeStyle)?t.strokeStyle=n.strokeStyle.call(e,n):t.strokeStyle=n.strokeStyle;t.lineWidth=n.strokeWidth;if(n.rounded)t.lineCap=t.lineJoin="round";else{t.lineCap=n.strokeCap;t.lineJoin=n.strokeJoin;t.miterLimit=n.miterLimit}t.shadowOffsetX=n.shadowX;t.shadowOffsetY=n.shadowY;t.shadowBlur=n.shadowBlur;t.shadowColor=n.shadowColor;t.globalAlpha=n.opacity;t.globalCompositeOperation=n.compositing;n.imageSmoothing&&(t.webkitImageSmoothingEnabled=t.mozImageSmoothingEnabled=n.imageSmoothing)}function B(e,t,n){if(n.mask){n.autosave&&D(e,t);e.clip();t.transforms.masks.push(n._args)}}function j(e,t){t._transformed&&e.restore()}function F(e,t,n){var r;n.closed&&t.closePath();if(n.shadowStroke&&n.strokeWidth!==0){t.stroke();t.fill();t.shadowColor="transparent";t.shadowBlur=0;t.stroke()}else{t.fill();n.fillStyle!=="transparent"&&(t.shadowColor="transparent");n.strokeWidth!==0&&t.stroke()}n.closed||t.closePath();j(t,n);if(n.mask){r=z(e);B(t,r,n)}}function I(e,t,n){t._toRad=t.inDegrees?v/180:1;e.translate(t.x,t.y);e.rotate(t.rotate*t._toRad);e.translate(-t.x,-t.y);n&&(n.rotate+=t.rotate*t._toRad)}function q(e,t,n){t.scale!==1&&(t.scaleX=t.scaleY=t.scale);e.translate(t.x,t.y);e.scale(t.scaleX,t.scaleY);e.translate(-t.x,-t.y);if(n){n.scaleX*=t.scaleX;n.scaleY*=t.scaleY}}function R(e,t,n){t.translate&&(t.translateX=t.translateY=t.translate);e.translate(t.translateX,t.translateY);if(n){n.translateX+=t.translateX;n.translateY+=t.translateY}}function U(e,t,n,r,i){n._toRad=n.inDegrees?v/180:1;n._transformed=s;t.save();i===a&&(i=r);if(!n.fromCenter&&!n._centered){n.x+=r/2;n.y+=i/2;n._centered=s}n.rotate&&I(t,n,{});(n.scale!==1||n.scaleX!==1||n.scaleY!==1)&&q(t,n,{});(n.translate||n.translateX||n.translateY)&&R(t,n,{})}function z(t){var n;if(S._canvas===t&&S._data)n=S._data;else{n=e.data(t,"jCanvas");if(!n){n={canvas:t,layers:[],layer:{names:{},groups:{}},intersecting:[],lastIntersected:u,cursor:e(t).css("cursor"),drag:{},event:{type:u,x:u,y:u},events:{},transforms:_(N),savedTransforms:[],animating:o,animated:u,pos:0,pixelRatio:1,scaled:!1};e.data(t,"jCanvas",n)}S._canvas=t;S._data=n}return n}function W(e,t,n){var r;for(r in A.events)A.events.hasOwnProperty(r)&&(n[r]||n.cursors&&n.cursors[r])&&X(e,t,n,r)}function X(e,t,n,r){r=ot(r);A.events[r](e,t);n._event=s}function V(e,t,n){var r,i,o;if(n.draggable||n.cursor||n.cursors){r=["mousedown","mousemove","mouseup"];for(o=0;o<r.length;o+=1){i=r[o];X(e,t,n,i)}if(!t.events.mouseoutdrag){e.bind("mouseout.jCanvas",function(){var n=t.drag.layer;if(n){t.drag={};n.dragcancel&&n.dragcancel.call(e[0],n);e.drawLayers()}});t.events.mouseoutdrag=s}n._event=s}}function $(e,t,n,r){var i=t.layer.names;r?r.name!==a&&O(n.name)&&n.name!==r.name&&delete i[n.name]:r=n;O(r.name)&&(i[r.name]=n)}function J(e,t,n,r){var i=t.layer.groups,s,o,f,l,c;if(n.group!==u){n.groups=[n.group];n.dragGroupWithLayer&&(n.dragGroups=[n.group])}if(r&&r.group!==a)if(r.group===u)r.groups=u;else{r.groups=[r.group];r.dragGroupWithLayer&&(r.dragGroups=[r.group])}if(!r)r=n;else if(r.groups!==a&&n.groups!==u)for(f=0;f<n.groups.length;f+=1){o=n.groups[f];s=i[o];if(s){for(c=0;c<s.length;c+=1)if(s[c]===n){l=c;s.splice(c,1);break}s.length===0&&delete i[o]}}if(r.groups!==a&&r.groups!==u)for(f=0;f<r.groups.length;f+=1){o=r.groups[f];s=i[o];if(!s){s=i[o]=[];s.name=o}l===a&&(l=s.length);s.splice(l,0,n)}}function K(e){var t,n,r;t={};for(n=e.intersecting.length-1;n>=0;n-=1){t=e.intersecting[n];if(t._masks){for(r=t._masks.length-1;r>=0;r-=1)if(!t._masks[r].intersects){t.intersects=o;break}if(t.intersects)break}}return t}function Q(e,t,n,r){if(n&&n.visible&&n._method){r?n._next=r:n._next=u;n._method.call(e,n)}}function G(e,t,n){var r,i,u,a,f,l,h,p;a=t.drag;i=a.layer;f=i.dragGroups||[];r=t.layers;if(n==="mousemove"||n==="touchmove"){if(!a.dragging){a.dragging=s;if(i.bringToFront){r.splice(i.index,1);i.index=r.push(i)}for(p=0;p<f.length;p+=1){h=f[p];l=t.layer.groups[h];if(i.groups&&l)for(u=0;u<l.length;u+=1)if(l[u]!==i){l[u]._startX=l[u].x;l[u]._startY=l[u].y;l[u]._endX=i._eventX;l[u]._endY=i._eventY;if(l[u].bringToFront){l[u].index=c(l[u],r);r.splice(l[u].index,1);r.splice(-1,0,l[u]);l[u].index=r.length-2}l[u].dragstart&&l[u].dragstart.call(e[0],l[u])}}a._startX=i._startX=i.x;a._startY=i._startY=i.y;a._endX=i._endX=i._eventX;a._endY=i._endY=i._eventY;Y(e,i,"dragstart")}i.x=i._eventX-(a._endX-a._startX);i.y=i._eventY-(a._endY-a._startY);for(p=0;p<f.length;p+=1){h=f[p];l=t.layer.groups[h];if(i.groups&&l)for(u=0;u<l.length;u+=1)if(l[u]!==i){l[u].x=i._eventX-(l[u]._endX-l[u]._startX);l[u].y=i._eventY-(l[u]._endY-l[u]._startY);l[u].drag&&l[u].drag.call(e[0],l[u])}}Y(e,i,"drag")}else if(n==="mouseup"||n==="touchend"){if(a.dragging){Y(e,i,"dragstop");a.dragging=o}for(p=0;p<f.length;p+=1){h=f[p];l=t.layer.groups[h];if(i.groups&&l)for(u=0;u<l.length;u+=1)l[u]!==i&&l[u].dragstop&&l[u].dragstop.call(e[0],l[u])}t.drag={}}}function Y(e,t,n,r){r||(t.cursors?r=t.cursors[n]:r=t.cursor);r&&e.css({cursor:r});t[n]&&t[n].call(e[0],t)}function Z(t,n,r,i){var o,a,f=n,l;n._args=r;n.canvas=t;if(n.draggable||n.dragGroups){n.layer=s;n.draggable=s}i?n._method=i:n.method?n._method=e.fn[n.method]:n.type?n._method=e.fn[E[n.type]]:n._method=function(){};if(n.layer&&!n._layer){o=e(t);a=o.getLayers();l=z(t);f=new L(n);f.layer=s;f._layer=s;$(o,l,f);J(o,l,f);W(o,l,f);V(o,l,f);n._event=f._event;f.index===u&&(f.index=a.length);a.splice(f.index,0,f)}return f}function et(e){var t,n;for(n=0;n<C.length;n+=1){t=C[n];e[t]=e["_"+t]}}function tt(e,t){var n,r;for(r=0;r<C.length;r+=1){n=C[r];e["_"+n]=e[n];k[n]=s;t&&delete e[n]}}function nt(e,t,n){var r;for(r in n)n.hasOwnProperty(r)&&p(n[r])&&(n[r]=n[r].call(e,t,r));return n}function rt(n){var r,s,o=[],u=1;if(n.match(/^#?\w+$/gi)){n==="transparent"&&(n="rgba(0,0,0,0)");s=t.head;r=s.style.color;s.style.color=n;n=e.css(s,"color");s.style.color=r}if(n.match(/^rgb/gi)){o=n.match(/\d+/gi);n.match(/%/gi)&&(u=2.55);o[0]*=u;o[1]*=u;o[2]*=u;o[3]!==a?o[3]=i(o[3]):o[3]=1}return o}function it(e){var t=3,n;if(h(e.start)!=="array"){e.start=rt(e.start);e.end=rt(e.end)}e.now=[];if(e.start[3]!==1||e.end[3]!==1)t=4;for(n=0;n<t;n+=1){e.now[n]=e.start[n]+(e.end[n]-e.start[n])*e.pos;n<3&&(e.now[n]=d(e.now[n]))}if(e.start[3]!==1||e.end[3]!==1)e.now="rgba("+e.now.join(",")+")";else{e.now.slice(0,3);e.now="rgb("+e.now.join(",")+")"}e.elem.nodeName?e.elem.style[e.prop]=e.now:e.elem[e.prop]=e.now}function st(t){var n;for(n=0;n<t.length;n+=1)e.fx.step[t[n]]=it}function ot(e){window.ontouchstart!==undefined&&b[e]&&(e=b[e]);return e}function ut(e){w[e]&&(e=w[e]);return e}function at(e){A.events[e]=function(t,n){var r,i;i=n.event;r=e==="mouseover"||e==="mouseout"?"mousemove":e;if(!n.events[r]){t.bind(r+".jCanvas",function(e){i.x=e.offsetX;i.y=e.offsetY;i.type=r;i.event=e;t.drawLayers({resetFire:s});e.preventDefault()});n.events[r]=s}}}function ft(e){var t;for(t=0;t<e.length;t+=1)at(e[t])}function lt(e,t,n){var r,i,s,o,a,f,l,c;r=n._args;if(r._event){i=z(e);s=i.event;if(s.x!==u&&s.y!==u){f=s.x*i.pixelRatio;l=s.y*i.pixelRatio;o=t.isPointInPath(f,l)||t.isPointInStroke&&t.isPointInStroke(f,l)}a=i.transforms;r.eventX=r.mouseX=s.x;r.eventY=r.mouseY=s.y;r.event=s.event;c=i.transforms.rotate;f=r.eventX;l=r.eventY;if(c!==0){r._eventX=f*g(-c)-l*m(-c);r._eventY=l*g(-c)+f*m(-c)}else{r._eventX=f;r._eventY=l}r._eventX/=a.scaleX;r._eventY/=a.scaleY;o&&i.intersecting.push(r);r.intersects=o}}function ct(e,t){isNaN(Number(t.fontSize))||(t.fontSize+="px");e.font=t.fontStyle+" "+t.fontSize+" "+t.fontFamily}function ht(t,n,r,s){var o,u,a;if(x.text===r.text&&x.fontStyle===r.fontStyle&&x.fontSize===r.fontSize&&x.fontFamily===r.fontFamily&&x.maxWidth===r.maxWidth&&x.lineHeight===r.lineHeight){r.width=x.width;r.height=x.height}else{r.width=n.measureText(s[0]).width;for(a=1;a<s.length;a+=1){u=n.measureText(s[a]).width;u>r.width&&(r.width=u)}o=t.style.fontSize;t.style.fontSize=r.fontSize;r.height=i(e.css(t,"fontSize"))*s.length*r.lineHeight;t.style.fontSize=o}}function pt(e,t){var n=t.text,r=t.maxWidth,i=n.split("\n"),s=[],o,u,a,f,l,c;for(a=0;a<i.length;a+=1){f=i[a];l=f.split(" ");o=[];u="";if(l.length===1||e.measureText(f).width<r)o=[f];else{for(c=0;c<l.length;c+=1){if(e.measureText(u+l[c]).width>r){u!==""&&o.push(u);u=""}u+=l[c];c!==l.length-1&&(u+=" ")}o.push(u)}s=s.concat(o.join("\n").replace(/( (\n))|( $)/gi,"$2").split("\n"))}return s}var f,l=e.extend,c=e.inArray,h=e.type,p=e.isFunction,d=r.round,v=r.PI,m=r.sin,g=r.cos,y=e.event.fix,b,w,E,S={},x={},T={},N={rotate:0,scaleX:1,scaleY:1,translateX:0,translateY:0,masks:[]},C,k;e.fn.jCanvas=A;A.events={};f={align:"center",autosave:s,baseline:"middle",bringToFront:o,ccw:o,closed:o,compositing:"source-over",concavity:0,cornerRadius:0,count:1,cropFromCenter:s,cursor:u,cursors:u,disableEvents:o,draggable:o,dragGroups:u,group:u,groups:u,data:{},each:u,end:360,fillStyle:"transparent",fontStyle:"normal",fontSize:"12pt",fontFamily:"sans-serif",fromCenter:s,fn:u,height:u,imageSmoothing:s,inDegrees:s,index:u,lineHeight:1,layer:o,load:u,mask:o,maxWidth:u,miterLimit:10,name:u,opacity:1,r1:u,r2:u,radius:0,repeat:"repeat",respectAlign:o,rotate:0,rounded:o,scale:1,scaleX:1,scaleY:1,shadowBlur:0,shadowColor:"transparent",shadowStroke:!1,shadowX:0,shadowY:0,sHeight:u,sides:0,source:"",spread:0,start:0,strokeCap:"butt",strokeJoin:"miter",strokeStyle:"transparent",strokeWidth:1,sWidth:u,sx:u,sy:u,text:"",translate:0,translateX:0,translateY:0,type:u,visible:s,width:u,x:0,y:0};A();A.extend=function(n){A.defaults=l(f,n.props);A();n.name&&(e.fn[n.name]=function r(e){var t=this,i,s,o,u,a;for(s=0;s<t.length;s+=1){i=t[s];o=M(i);if(o){u=new L(e);a=Z(i,u,e,r);H(i,o,u);n.fn.call(i,o,u)}}return t});return e.fn[n.name]};e.fn.getLayers=function(t){var n=this[0],r,i,s,o=[];if(n&&n.getContext){r=z(n);i=r.layers;if(p(t))for(s=0;s<i.length;s+=1)t.call(n,i[s])&&o.push(i[s]);else o=i}return o};e.fn.getLayer=function(t){var n=this[0],r=z(n),i=r.layers,s=h(t),o,u;if(t&&t.layer)o=t;else if(s==="number"){t<0&&(t=i.length+t);o=i[t]}else if(s==="regexp"){for(u=0;u<i.length;u+=1)if(O(i[u].name)&&i[u].name.match(t)){o=i[u];break}}else o=r.layer.names[t];return o};e.fn.getLayerGroup=function(t){var n=h(t),r,i,s,o;if(n==="array")return t;if(n==="regexp"){o=z(this[0]);r=o.groups;for(i in r)if(i.match(t)){s=r[i];break}}else{o=z(this[0]);s=o.layer.groups[t]}return s};e.fn.getLayerIndex=function(t){var n=this,r=n.getLayers(),i=n.getLayer(t);return c(i,r)};e.fn.setLayer=function(n,r){var i=this,s,o,u,f;for(o=0;o<i.length;o+=1){s=e(i[o]);u=z(i[o]);f=e(i[o]).getLayer(n);if(f){$(s,u,f,r);J(s,u,f,r);r.index!==a&&s.moveLayer(f,r.index);l(f,r);W(s,u,f);V(s,u,f)}}return i};e.fn.setLayerGroup=function(n,r){var i=this,s,o,u,a;for(o=0;o<i.length;o+=1){s=e(i[o]);u=s.getLayerGroup(n);if(u)for(a=0;a<u.length;a+=1)s.setLayer(u[a],r)}return i};e.fn.setLayers=function(n){var r=this,i,s,o,u;for(s=0;s<r.length;s+=1){i=e(r[s]);o=i.getLayers();for(u=0;u<o.length;u+=1)i.setLayer(o[u],n)}return r};e.fn.moveLayer=function(n,r){var i=this,s,o,u,a;for(o=0;o<i.length;o+=1){s=e(i[o]);u=s.getLayers();a=s.getLayer(n);if(a){a.index=c(a,u);u.splice(a.index,1);u.splice(r,0,a);r<0&&(r=u.length+r);a.index=r}}return i};e.fn.removeLayer=function(n){var r=this,i,s,o,a,f;for(s=0;s<r.length;s+=1){i=e(r[s]);o=z(r[s]);a=i.getLayers();f=i.getLayer(n);if(f){f.index=c(f,a);a.splice(f.index,1);$(i,o,f,{name:u});J(i,o,f,{groups:u})}}return r};e.fn.removeLayerGroup=function(n){var r=this,i,s,o,f,l,h,p;if(n!==a)for(s=0;s<r.length;s+=1){i=e(r[s]);o=z(r[s]);f=i.getLayers();l=i.getLayerGroup(n);if(l){for(p=0;p<l.length;p+=1){h=l[p];h.index=c(h,f);f.splice(h.index,1);$(i,o,h,{name:u})}delete o.layer.groups[l.name]}}return r};e.fn.removeLayers=function(){var n=this,r,i,s;for(i=0;i<n.length;i+=1){r=e(n[i]);s=z(n[i]);s.layers.length=0;s.layer.names={};s.layer.groups={}}return n};e.fn.addLayerToGroup=function(n,r){var i=this,s,o,u,a=[];for(o=0;o<i.length;o+=1){s=e(i[o]);u=s.getLayer(n);if(u.groups&&c(r,u.groups)===-1){a=u.groups.slice(0);a.push(r);s.setLayer(u,{groups:a})}}return i};e.fn.removeLayerFromGroup=function(n,r){var i=this,s,o,u,a=[],f;for(o=0;o<i.length;o+=1){s=e(i[o]);u=s.getLayer(n);f=c(r,u.groups);if(f!==-1){a=u.groups.slice(0);a.splice(f,1);s.setLayer(u,{groups:a})}}return i};e.fn.drawLayer=function(n){var r=this,i,s,o,u;for(i=0;i<r.length;i+=1){o=e(r[i]);s=M(r[i]);u=o.getLayer(n);Q(o,s,u)}return r};e.fn.drawLayers=function(n){var r=this,i,a,f,c=l({},n),h,p,d,v,m,g,y,b,w;c.index||(c.index=0);for(a=0;a<r.length;a+=1){i=e(r[a]);f=M(r[a]);if(f){g=z(r[a]);c.clear!==o&&i.clearCanvas();h=g.layers;for(v=c.index;v<h.length;v+=1){p=h[v];p.index=v;c.resetFire&&(p._fired=o);p._event=!p.disableEvents;Q(i,f,p,v+1);p._masks=g.transforms.masks.slice(0);if(p._method===e.fn.drawImage&&p.visible)break}m=v;p=K(g);y=g.event;b=y.type;p[b]||(b=ut(b));w=g.drag;d=g.lastIntersected;if(d!==u&&p!==d&&d._hovered&&!d._fired){g.lastIntersected=u;d._fired=s;d._hovered=o;Y(i,d,"mouseout",g.cursor)}if(p._event&&p.intersects){g.lastIntersected=p;if(p.mouseover||p.mouseout||p.cursor||p.cursors)if(!p._hovered&&!p._fired){p._fired=s;p._hovered=s;Y(i,p,"mouseover")}if(!p._fired){p._fired=s;y.type=u;Y(i,p,b)}p.draggable&&(b==="mousedown"||b==="touchstart")&&(w.layer=p)}w.layer&&G(i,g,b);if(m===h.length){g.intersecting.length=0;g.transforms=_(N);g.savedTransforms.length=0}}}return r};e.fn.addLayer=function(t){var n=this,r,i,o;for(r=0;r<n.length;r+=1){i=M(n[r]);if(i){o=new L(t);o.layer=s;Z(n[r],o,t)}}return n};C=["width","height","opacity","lineHeight"];k={};e.fn.animateLayer=function(){function g(e,t,n){return function(){et(n);(!t.animating||t.animated===n)&&e.drawLayers();c[4]&&c[4].call(e[0],n);n._animating=o;t.animating=o;t.animated=u}}function y(e,t,n){return function(r,i){if(n._pos!==i.pos){n._pos=i.pos;et(n);if(!n._animating&&!t.animating){n._animating=s;t.animating=s;t.animated=n}(!t.animating||t.animated===n)&&e.drawLayers();c[5]&&c[5].call(e[0],r,i,n)}}}var n=this,r,i,f,c=[].slice.call(arguments,0),d,v,m;if(h(c[2])==="object"){c.splice(2,0,c[2].duration||u);c.splice(3,0,c[3].easing||u);c.splice(4,0,c[4].done||c[4].complete||u);c.splice(5,0,c[5].step||u)}else{if(c[2]===a){c.splice(2,0,u);c.splice(3,0,u);c.splice(4,0,u)}else if(p(c[2])){c.splice(2,0,u);c.splice(3,0,u)}if(c[3]===a){c[3]=u;c.splice(4,0,u)}else p(c[3])&&c.splice(3,0,u)}for(i=0;i<n.length;i+=1){r=e(n[i]);f=M(n[i]);if(f){d=z(n[i]);v=r.getLayer(c[0]);if(v&&v._method!==e.fn.draw){m=l({},c[1]);m=nt(n[i],v,m);tt(m,s);tt(v);v.style=k;e(v).animate(m,{duration:c[2],easing:e.easing[c[3]]?c[3]:u,complete:g(r,d,v),step:y(r,d,v)})}}}return n};e.fn.animateLayerGroup=function(n){var r=this,i,s,o=[].slice.call(arguments,0),u,a;for(s=0;s<r.length;s+=1){i=e(r[s]);u=i.getLayerGroup(n);if(u)for(a=0;a<u.length;a+=1)i.animateLayer.apply(i,[u[a]].concat(o.slice(1)))}return r};e.fn.delayLayer=function(n,r){var i=this,s,o;r=r||0;for(s=0;s<i.length;s+=1){o=e(i[s]).getLayer(n);e(o).delay(r)}return i};e.fn.delayLayerGroup=function(n,r){var i=this,s,o,u,a,f;r=r||0;for(o=0;o<i.length;o+=1){s=e(i[o]);u=s.getLayerGroup(n);if(u)for(f=0;f<u.length;f+=1){a=u[f];a&&e(a).delay(r)}}return i};e.fn.stopLayer=function(n,r){var i=this,s,o,u;for(o=0;o<i.length;o+=1){s=e(i[o]);u=s.getLayer(n);u&&e(u).stop(r)}return i};e.fn.stopLayerGroup=function(n,r){var i=this,s,o,u,a,f;for(o=0;o<i.length;o+=1){s=e(i[o]);u=s.getLayerGroup(n);if(u)for(f=0;f<u.length;f+=1){a=u[f];a&&e(a).stop(r)}}return i};st(["color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fillStyle","outlineColor","strokeStyle","shadowColor"]);b={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"};w={touchstart:"mousedown",touchend:"mouseup",touchmove:"mousemove"};ft(["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","touchstart","touchmove","touchend"]);e.event.fix=function(t){var n,r,i;t=y.call(e.event,t);r=t.originalEvent;if(r){i=r.changedTouches;if(t.pageX!==a&&t.offsetX===a){n=e(t.target).offset();if(n){t.offsetX=t.pageX-n.left;t.offsetY=t.pageY-n.top}}else if(i){n=e(r.target).offset();if(n){t.offsetX=i[0].pageX-n.left;t.offsetY=i[0].pageY-n.top}}}return t};E={arc:"drawArc",bezier:"drawBezier",ellipse:"drawEllipse","function":"draw",image:"drawImage",line:"drawLine",polygon:"drawPolygon",slice:"drawSlice",quadratic:"drawQuadratic",rectangle:"drawRect",text:"drawText",vector:"drawVector"};e.fn.draw=function dt(t){var n=this,r,i,s,o=new L(t),u;if(E[o.type])n[E[o.type]](o);else for(i=0;i<n.length;i+=1){r=e(n[i]);s=M(n[i]);if(s){o=new L(t);u=Z(n[i],o,t,dt);o.visible&&o.fn&&o.fn.call(n[i],s,o)}}return n};e.fn.clearCanvas=function vt(e){var t=this,n,r,i=new L(e),s;for(n=0;n<t.length;n+=1){r=M(t[n]);if(r)if(i.width===u||i.height===u){r.save();r.setTransform(1,0,0,1,0,0);r.clearRect(0,0,t[n].width,t[n].height);r.restore()}else{s=Z(t[n],i,e,vt);U(t[n],r,i,i.width,i.height);r.clearRect(i.x-i.width/2,i.y-i.height/2,i.width,i.height);j(r,i)}}return t};e.fn.saveCanvas=function mt(e){var t=this,n,r,i,s,o,u;for(n=0;n<t.length;n+=1){r=M(t[n]);if(r){o=z(t[n]);i=new L(e);s=Z(t[n],i,e,mt);for(u=0;u<i.count;u+=1)D(r,o)}}return t};e.fn.restoreCanvas=function gt(e){var t=this,n,r,i,s,o,u;for(n=0;n<t.length;n+=1){r=M(t[n]);if(r){o=z(t[n]);i=new L(e);s=Z(t[n],i,e,gt);for(u=0;u<i.count;u+=1)P(r,o)}}return t};e.fn.restoreCanvasOnRedraw=function(t){var n=this,r=l({},t);r.layer=s;n.restoreCanvas(r);return n};e.fn.rotateCanvas=function yt(e){var t=this,n,r,i,s,o;for(n=0;n<t.length;n+=1){r=M(t[n]);if(r){o=z(t[n]);i=new L(e);s=Z(t[n],i,e,yt);i.autosave&&D(r,o);I(r,i,o.transforms)}}return t};e.fn.scaleCanvas=function bt(e){var t=this,n,r,i,s,o;for(n=0;n<t.length;n+=1){r=M(t[n]);if(r){o=z(t[n]);i=new L(e);s=Z(t[n],i,e,bt);i.autosave&&D(r,o);q(r,i,o.transforms)}}return t};e.fn.translateCanvas=function wt(e){var t=this,n,r,i,s,o;for(n=0;n<t.length;n+=1){r=M(t[n]);if(r){o=z(t[n]);i=new L(e);s=Z(t[n],i,e,wt);i.autosave&&D(r,o);R(r,i,o.transforms)}}return t};e.fn.drawRect=function Et(e){var t=this,n,r,i,u,a,f,l,c,h;for(n=0;n<t.length;n+=1){r=M(t[n]);if(r){i=new L(e);u=Z(t[n],i,e,Et);if(i.visible){H(t[n],r,i);U(t[n],r,i,i.width,i.height);r.beginPath();a=i.x-i.width/2;f=i.y-i.height/2;h=i.cornerRadius;if(h){i.closed=s;l=i.x+i.width/2;c=i.y+i.height/2;l-a-2*h<0&&(h=(l-a)/2);c-f-2*h<0&&(h=(c-f)/2);r.moveTo(a+h,f);r.lineTo(l-h,f);r.arc(l-h,f+h,h,3*v/2,v*2,o);r.lineTo(l,c-h);r.arc(l-h,c-h,h,0,v/2,o);r.lineTo(a+h,c);r.arc(a+h,c-h,h,v/2,v,o);r.lineTo(a,f+h);r.arc(a+h,f+h,h,v,3*v/2,o)}else r.rect(a,f,i.width,i.height);i._event&&lt(t[n],r,i);F(t[n],r,i)}}}return t};e.fn.drawArc=function St(e){var t=this,n,r,i,s;for(n=0;n<t.length;n+=1){r=M(t[n]);if(r){i=new L(e);s=Z(t[n],i,e,St);if(i.visible){H(t[n],r,i);U(t[n],r,i,i.radius*2);!i.inDegrees&&i.end===360&&(i.end=v*2);i.start*=i._toRad;i.end*=i._toRad;i.start-=v/2;i.end-=v/2;r.beginPath();r.arc(i.x,i.y,i.radius,i.start,i.end,i.ccw);i._event&&lt(t[n],r,i);F(t[n],r,i)}}}return t};e.fn.drawEllipse=function xt(e){var t=this,n,r,i,o,u,a;for(n=0;n<t.length;n+=1){r=M(t[n]);if(r){i=new L(e);o=Z(t[n],i,e,xt);if(i.visible){H(t[n],r,i);U(t[n],r,i,i.width,i.height);u=i.width*(4/3);a=i.height;r.beginPath();r.moveTo(i.x,i.y-a/2);r.bezierCurveTo(i.x-u/2,i.y-a/2,i.x-u/2,i.y+a/2,i.x,i.y+a/2);r.bezierCurveTo(i.x+u/2,i.y+a/2,i.x+u/2,i.y-a/2,i.x,i.y-a/2);i._event&&lt(t[n],r,i);i.closed=s;F(t[n],r,i)}}}return t};e.fn.drawPolygon=function Tt(e){var t=this,n,r,i,o,u,a,f,l,c,h,p;for(n=0;n<t.length;n+=1){r=M(t[n]);if(r){i=new L(e);o=Z(t[n],i,e,Tt);if(i.visible){H(t[n],r,i);U(t[n],r,i,i.radius*2);a=2*v/i.sides;f=a/2;u=f+v/2;l=i.radius*g(f);r.beginPath();for(p=0;p<i.sides;p+=1){c=i.x+i.radius*g(u);h=i.y+i.radius*m(u);r.lineTo(c,h);if(i.concavity){c=i.x+(l+ -l*i.concavity)*g(u+f);h=i.y+(l+ -l*i.concavity)*m(u+f);r.lineTo(c,h)}u+=a}i._event&&lt(t[n],r,i);i.closed=s;F(t[n],r,i)}}}return t};e.fn.drawSlice=function Nt(t){var n=this,r,i,o,u,a,f,l,c;for(i=0;i<n.length;i+=1){r=e(n[i]);o=M(n[i]);if(o){u=new L(t);a=Z(n[i],u,t,Nt);if(u.visible){H(n[i],o,u);U(n[i],o,u,u.radius*2);u.start*=u._toRad;u.end*=u._toRad;u.start-=v/2;u.end-=v/2;while(u.start<0)u.start+=2*v;while(u.end<0)u.end+=2*v;u.end<u.start&&(u.end+=2*v);f=(u.start+u.end)/2;l=u.radius*u.spread*g(f);c=u.radius*u.spread*m(f);u.x+=l;u.y+=c;o.beginPath();o.arc(u.x,u.y,u.radius,u.start,u.end,u.ccw);o.lineTo(u.x,u.y);u._event&&lt(n[i],o,u);u.closed=s;F(n[i],o,u)}}}return n};e.fn.drawLine=function Ct(e){var t=this,n,r,i,o,u,f,l;for(n=0;n<t.length;n+=1){r=M(t[n]);if(r){i=new L(e);o=Z(t[n],i,e,Ct);if(i.visible){H(t[n],r,i);U(t[n],r,i,0);u=1;r.beginPath();while(s){f=i["x"+u];l=i["y"+u];if(f===a||l===a)break;r.lineTo(f+i.x,l+i.y);u+=1}i._event&&lt(t[n],r,i);F(t[n],r,i)}}}return t};e.fn.drawQuadratic=function kt(e){var t=this,n,r,i,o,u,f,l,c,h;for(n=0;n<t.length;n+=1){r=M(t[n]);if(r){i=new L(e);o=Z(t[n],i,e,kt);if(i.visible){H(t[n],r,i);U(t[n],r,i,0);u=2;r.beginPath();r.moveTo(i.x1+i.x,i.y1+i.y);while(s){f=i["x"+u];l=i["y"+u];c=i["cx"+(u-1)];h=i["cy"+(u-1)];if(f===a||l===a||c===a||h===a)break;r.quadraticCurveTo(c+i.x,h+i.y,f+i.x,l+i.y);u+=1}i._event&&lt(t[n],r,i);F(t[n],r,i)}}}return t};e.fn.drawBezier=function Lt(e){var t=this,n,r,i,o,u,f,l,c,h,p,d,v;for(n=0;n<t.length;n+=1){r=M(t[n]);if(r){i=new L(e);o=Z(t[n],i,e,Lt);if(i.visible){H(t[n],r,i);U(t[n],r,i,0);u=2;f=1;r.beginPath();r.moveTo(i.x1+i.x,i.y1+i.y);while(s){l=i["x"+u];c=i["y"+u];h=i["cx"+f];p=i["cy"+f];d=i["cx"+(f+1)];v=i["cy"+(f+1)];if(l===a||c===a||h===a||p===a||d===a||v===a)break;r.bezierCurveTo(h+i.x,p+i.y,d+i.x,v+i.y,l+i.x,c+i.y);u+=1;f+=2}i._event&&lt(t[n],r,i);F(t[n],r,i)}}}return t};e.fn.drawVector=function At(e){var t=this,n,r,i,o,u,f,l,c,h;for(n=0;n<t.length;n+=1){r=M(t[n]);if(r){i=new L(e);o=Z(t[n],i,e,At);if(i.visible){H(t[n],r,i);U(t[n],r,i,0);u=1;r.beginPath();c=i.x;h=i.y;r.moveTo(i.x,i.y);while(s){f=i["a"+u];l=i["l"+u];if(f===a||l===a)break;f*=i._toRad;f-=v/2;c+=l*g(f);h+=l*m(f);r.lineTo(c,h);u+=1}i._event&&lt(t[n],r,i);F(t[n],r,i)}}}return t};e.fn.drawText=function Ot(t){var n=this,r,i,s,o,a,f,l,c,h;for(i=0;i<n.length;i+=1){r=e(n[i]);s=M(n[i]);if(s){o=new L(t);a=Z(n[i],o,t,Ot);if(o.visible){H(n[i],s,o);s.textBaseline=o.baseline;s.textAlign=o.align;ct(s,o);o.maxWidth!==u?f=pt(s,o):f=o.text.toString().split("\n");ht(n[i],s,o,f);if(t&&o.layer){t.width=o.width;t.height=o.height}c=o.x;o.align==="left"?o.respectAlign?o.x+=o.width/2:c-=o.width/2:o.align==="right"&&(o.respectAlign?o.x-=o.width/2:c+=o.width/2);U(n[i],s,o,o.width,o.height);for(l=0;l<f.length;l+=1){s.shadowColor=o.shadowColor;h=o.y+l*o.height/f.length-(f.length-1)*o.height/f.length/2;s.fillText(f[l],c,h);o.fillStyle!=="transparent"&&(s.shadowColor="transparent");s.strokeText(f[l],c,h)}if(o._event){s.beginPath();s.rect(o.x-o.width/2,o.y-o.height/2,o.width,o.height);lt(n[i],s,o);s.closePath()}j(s,o)}}}x=o;return n};e.fn.measureText=function(t){var n=this,r,i,s;t&&t.layer||h(t)==="string"?i=n.getLayer(t):i=new L(t);if(!i)i={};else{r=M(n[0]);if(r){ct(r,i);s=pt(r,i);ht(n[0],r,i,s)}}return i};e.fn.drawImage=function Mt(t){function g(e,t,n,i,s){i.width===u&&i.sWidth===u&&(i.width=i.sWidth=d.width);i.height===u&&i.sHeight===u&&(i.height=i.sHeight=d.height);if(s){s.width=i.width;s.height=i.height}if(i.sWidth!==u&&i.sHeight!==u&&i.sx!==u&&i.sy!==u){i.width===u&&(i.width=i.sWidth);i.height===u&&(i.height=i.sHeight);if(!i.cropFromCenter){i.sx+=i.sWidth/2;i.sy+=i.sHeight/2}i.sy-i.sHeight/2<0&&(i.sy=i.sHeight/2);i.sy+i.sHeight/2>d.height&&(i.sy=d.height-i.sHeight/2);i.sx-i.sWidth/2<0&&(i.sx=i.sWidth/2);i.sx+i.sWidth/2>d.width&&(i.sx=d.width-i.sWidth/2);U(r[e],t,i,i.width,i.height);t.drawImage(d,i.sx-i.sWidth/2,i.sy-i.sHeight/2,i.sWidth,i.sHeight,i.x-i.width/2,i.y-i.height/2,i.width,i.height)}else{U(r[e],t,i,i.width,i.height);t.drawImage(d,i.x-i.width/2,i.y-i.height/2,i.width,i.height)}H(r[e],t,i);t.beginPath();t.rect(i.x-i.width/2,i.y-i.height/2,i.width,i.height);i._event&&lt(r[e],t,i);t.closePath();t.stroke();j(t,i);B(t,n,i)}function y(t,n,r,i,u,a){return function(){g(n,r,i,u,a);u.load&&u.load.call(t,a);if(u.layer){u._args._masks=i.transforms.masks.slice(0);u._next&&e(t).drawLayers({clear:o,resetFire:s,index:u._next})}}}var r=this,i,f,l,c,h,p,d,v,m;for(f=0;f<r.length;f+=1){i=r[f];l=M(r[f]);if(l){c=z(r[f]);h=new L(t);p=Z(r[f],h,t,Mt);if(h.visible){m=h.source;v=m.getContext;if(m.src||v)d=m;else if(m)if(T[m]!==a)d=T[m];else{d=new n;d.src=m;T[m]=d}if(d)if(d.complete||v)y(i,f,l,c,h,p)();else{e(d).bind("load",y(i,f,l,c,h,p));d.src=d.src}}}}return r};e.fn.createPattern=function(r){function h(){l=s.createPattern(a,o.repeat);o.load&&o.load.call(i[0],l)}var i=this,s,o,a,f,l,c;s=M(i[0]);if(s){o=new L(r);c=o.source;if(p(c)){a=e("<canvas />")[0];a.width=o.width;a.height=o.height;f=M(a);c.call(a,f);h()}else{f=c.getContext;if(c.src||f)a=c;else{a=new n;a.src=c}if(a.complete||f)h();else{e(a).bind("load",h);a.src=a.src}}}else l=u;return l};e.fn.createGradient=function(t){var n=this,r,i,s,o=[],f,l,c,h,p,d,v;i=new L(t);r=M(n[0]);if(r){i.x1=i.x1||0;i.y1=i.y1||0;i.x2=i.x2||0;i.y2=i.y2||0;i.r1!==u||i.r2!==u?s=r.createRadialGradient(i.x1,i.y1,i.r1,i.x2,i.y2,i.r2):s=r.createLinearGradient(i.x1,i.y1,i.x2,i.y2);for(h=1;i["c"+h]!==a;h+=1)i["s"+h]!==a?o.push(i["s"+h]):o.push(u);f=o.length;o[0]===u&&(o[0]=0);o[f-1]===u&&(o[f-1]=1);for(h=0;h<f;h+=1){if(o[h]!==u){d=1;v=0;l=o[h];for(p=h+1;p<f;p+=1){if(o[p]!==u){c=o[p];break}d+=1}l>c&&(o[p]=o[h])}else if(o[h]===u){v+=1;o[h]=l+v*((c-l)/d)}s.addColorStop(o[h],i["c"+(h+1)])}}else s=u;return s};e.fn.setPixels=function _t(e){var t=this,n,r,i,s,o,a,f,l,c,h;for(r=0;r<t.length;r+=1){n=t[r];i=M(n);if(i){s=new L(e);o=Z(n,s,e,_t);U(t[r],i,s,s.width,s.height);if(s.width===u||s.height===u){s.width=n.width;s.height=n.height;s.x=s.width/2;s.y=s.height/2}if(s.width!==0&&s.height!==0){f=i.getImageData(s.x-s.width/2,s.y-s.height/2,s.width,s.height);l=f.data;h=l.length;if(s.each)for(c=0;c<h;c+=4){a={r:l[c],g:l[c+1],b:l[c+2],a:l[c+3]};s.each.call(n,a,s);l[c]=a.r;l[c+1]=a.g;l[c+2]=a.b;l[c+3]=a.a}i.putImageData(f,s.x-s.width/2,s.y-s.height/2);i.restore()}}}return t};e.fn.getCanvasImage=function(t,n){var r=this[0];n===a&&(n=1);return r&&r.toDataURL?r.toDataURL("image/"+t,n):u};e.fn.detectPixelRatio=function(n){var r=this,i,o,u,a,f,l,c,h,p,d;for(u=0;u<r.length;u+=1){o=r[u];i=e(r[u]);a=M(o);d=z(r[u]);if(!d.scaled){f=window.devicePixelRatio||1;l=a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1;c=f/l;if(c!==1){h=o.width;p=o.height;o.width=h*c;o.height=p*c;o.style.width=h+"px";o.style.height=p+"px";a.scale(c,c)}d.pixelRatio=c;d.scaled=s;n&&n.call(o,c)}}return r};e.support.canvas=e("<canvas />")[0].getContext;A.defaults=f;A.transformShape=U;A.detectEvents=lt;A.closePath=F;A.getTouchEventName=ot;e.jCanvas=A})(jQuery,document,Image,Math,parseFloat,!0,!1,null);




/**
 * jqBarGraph - jQuery plugin
 * @version: 1.1 (2011/04/03)
 * @requires jQuery v1.2.2 or later 
 * @author Ivan Lazarevic
 * Examples and documentation at: http://www.workshop.rs/jqbargraph/
 * 
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 * 
 */

(function($){var opts=new Array;var level=new Array;$.fn.jqBarGraph=$.fn.jqbargraph=function(options){init=function(el){opts[el.id]=$.extend({},$.fn.jqBarGraph.defaults,options);$(el).css({'width':opts[el.id].width,'height':opts[el.id].height,'position':'relative','text-align':'center'});doGraph(el);};sum=function(ar){total=0;for(val in ar){total+=ar[val];}
return total.toFixed(2);};max=function(ar){maxvalue=0;for(var val in ar){value=ar[val][0];if(value instanceof Array)value=sum(value);if(parseFloat(value)>parseFloat(maxvalue))maxvalue=value;}
return maxvalue;};maxMulti=function(ar){maxvalue=0;maxvalue2=0;for(var val in ar){ar2=ar[val][0];for(var val2 in ar2){if(ar2[val2]>maxvalue2)maxvalue2=ar2[val2];}
if(maxvalue2>maxvalue)maxvalue=maxvalue2;}
return maxvalue;};doGraph=function(el){arr=opts[el.id];data=arr.data;if(data==undefined){$(el).html('There is not enought data for graph');return;}
if(arr.sort=='asc')data.sort(sortNumberAsc);if(arr.sort=='desc')data.sort(sortNumberDesc);legend='';prefix=arr.prefix;postfix=arr.postfix;space=arr.barSpace;legendWidth=arr.legend?arr.legendWidth:0;fieldWidth=($(el).width()-legendWidth)/data.length;totalHeight=$(el).height();var leg=new Array();max=max(data);colPosition=0;for(var val in data){valueData=data[val][0];if(valueData instanceof Array)
value=sum(valueData);else
value=valueData;lbl=data[val][1];color=data[val][2];unique=val+el.id;if(color==undefined&&arr.colors==false)
color=arr.color;if(arr.colors&&!color){colorsCounter=arr.colors.length;if(colorsCounter==colPosition)colPosition=0;color=arr.colors[colPosition];colPosition++;}
if(arr.type=='multi')color='none';if(lbl==undefined)lbl=arr.lbl;out="<div class='graphField"+el.id+"' id='graphField"+unique+"' style='position: absolute'>";out+="<div class='graphValue"+el.id+"' id='graphValue"+unique+"'>"+prefix+value+postfix+"</div>";out+="<div class='graphBar"+el.id+"' id='graphFieldBar"+unique+"' style='background-color:"+color+";position: relative; overflow: hidden;'></div>";if(!arr.legend||arr.legends)
out+="<div class='graphLabel"+el.id+"' id='graphLabel"+unique+"'>"+lbl+"</div>";out+="</div>";$(el).append(out);totalHeightBar=totalHeight-$('.graphLabel'+el.id).height()-$('.graphValue'+el.id).height();fieldHeight=(totalHeightBar*value)/max;$('#graphField'+unique).css({'left':(fieldWidth)*val,'width':fieldWidth-space,'margin-left':space});if(valueData instanceof Array){if(arr.type=="multi"){maxe=maxMulti(data);totalHeightBar=fieldHeight=totalHeight-$('.graphLabel'+el.id).height();$('.graphValue'+el.id).remove();}else{maxe=max;}
for(i in valueData){heig=totalHeightBar*valueData[i]/maxe;wid=parseInt((fieldWidth-space)/valueData.length);sv='';fs=0;if(arr.showValues){sv=arr.prefix+valueData[i]+arr.postfix;fs=12;}
o="<div class='subBars"+el.id+"' style='height:"+heig+"px; background-color: "+arr.colors[i]+"; left:"+wid*i+"px; color:"+arr.showValuesColor+"; font-size:"+fs+"px' >"+sv+"</div>";$('#graphFieldBar'+unique).prepend(o);}}
if(arr.type=='multi')
$('.subBars'+el.id).css({'width':wid,'position':'absolute','bottom':0});if(arr.position=='bottom')$('.graphField'+el.id).css('bottom',0);if(!arr.legends)
leg.push([color,lbl,el.id,unique]);if(arr.animate){$('#graphFieldBar'+unique).css({'height':0});$('#graphFieldBar'+unique).animate({'height':fieldHeight},arr.speed*1000);}else{$('#graphFieldBar'+unique).css({'height':fieldHeight});}}
for(var l in arr.legends){leg.push([arr.colors[l],arr.legends[l],el.id,l]);}
createLegend(leg);if(arr.legend){$(el).append("<div id='legendHolder"+unique+"'></div>");$('#legendHolder'+unique).css({'width':legendWidth,'float':'right','text-align':'left'});$('#legendHolder'+unique).append(legend);$('.legendBar'+el.id).css({'float':'left','margin':3,'height':12,'width':20,'font-size':0});}
if(arr.title){$(el).wrap("<div id='graphHolder"+unique+"'></div>");$('#graphHolder'+unique).prepend(arr.title).css({'width':arr.width+'px','text-align':'center'});}};createLegend=function(legendArr){legend='';for(var val in legendArr){legend+="<div id='legend"+legendArr[val][3]+"' style='overflow: hidden; zoom: 1;'>";legend+="<div class='legendBar"+legendArr[val][2]+"' id='legendColor"+legendArr[val][3]+"' style='background-color:"+legendArr[val][0]+"'></div>";legend+="<div class='legendLabel"+legendArr[val][2]+"' id='graphLabel"+unique+"'>"+legendArr[val][1]+"</div>";legend+="</div>";}};this.each(function()
{init(this);})};$.fn.jqBarGraph.defaults={barSpace:10,width:400,height:300,color:'#000000',colors:false,lbl:'',sort:false,position:'bottom',prefix:'',postfix:'',animate:true,speed:1.5,legendWidth:100,legend:false,legends:false,type:false,showValues:true,showValuesColor:'#fff',title:false};function sortNumberAsc(a,b){if(a[0]<b[0])return-1;if(a[0]>b[0])return 1;return 0;}
function sortNumberDesc(a,b){if(a[0]>b[0])return-1;if(a[0]<b[0])return 1;return 0;}})(jQuery);




/*!
 *  GMAP3 Plugin for JQuery 
 *  Version   : 5.1
 *  Date      : 2013-05-18
 *  Licence   : GPL v3 : http://www.gnu.org/licenses/gpl.html  
 *  Author    : DEMONTE Jean-Baptiste
 *  Contact   : jbdemonte@gmail.com
 *  Web site  : http://gmap3.net
 */
(function(y,t){var z,i=0;function J(){if(!z){z={verbose:false,queryLimit:{attempt:5,delay:250,random:250},classes:{Map:google.maps.Map,Marker:google.maps.Marker,InfoWindow:google.maps.InfoWindow,Circle:google.maps.Circle,Rectangle:google.maps.Rectangle,OverlayView:google.maps.OverlayView,StreetViewPanorama:google.maps.StreetViewPanorama,KmlLayer:google.maps.KmlLayer,TrafficLayer:google.maps.TrafficLayer,BicyclingLayer:google.maps.BicyclingLayer,GroundOverlay:google.maps.GroundOverlay,StyledMapType:google.maps.StyledMapType,ImageMapType:google.maps.ImageMapType},map:{mapTypeId:google.maps.MapTypeId.ROADMAP,center:[46.578498,2.457275],zoom:2},overlay:{pane:"floatPane",content:"",offset:{x:0,y:0}},geoloc:{getCurrentPosition:{maximumAge:60000,timeout:5000}}}}}function k(M,L){return M!==t?M:"gmap3_"+(L?i+1:++i)}function d(L){var O=function(P){return parseInt(P,10)},N=google.maps.version.split(".").map(O),M;L=L.split(".").map(O);for(M=0;M<L.length;M++){if(N.hasOwnProperty(M)){if(N[M]<L[M]){return false}}else{return false}}return true}function n(P,L,N,Q,O){if(L.todo.events||L.todo.onces){var M={id:Q,data:L.todo.data,tag:L.todo.tag};if(L.todo.events){y.each(L.todo.events,function(R,U){var T=P,S=U;if(y.isArray(U)){T=U[0];S=U[1]}google.maps.event.addListener(N,R,function(V){S.apply(T,[O?O:N,V,M])})})}if(L.todo.onces){y.each(L.todo.onces,function(R,U){var T=P,S=U;if(y.isArray(U)){T=U[0];S=U[1]}google.maps.event.addListenerOnce(N,R,function(V){S.apply(T,[O?O:N,V,M])})})}}}function l(){var L=[];this.empty=function(){return !L.length};this.add=function(M){L.push(M)};this.get=function(){return L.length?L[0]:false};this.ack=function(){L.shift()}}function w(T,L,N){var R={},P=this,Q,S={latLng:{map:false,marker:false,infowindow:false,circle:false,overlay:false,getlatlng:false,getmaxzoom:false,getelevation:false,streetviewpanorama:false,getaddress:true},geoloc:{getgeoloc:true}};if(typeof N==="string"){N=M(N)}function M(V){var U={};U[V]={};return U}function O(){var U;for(U in N){if(U in R){continue}return U}}this.run=function(){var U,V;while(U=O()){if(typeof T[U]==="function"){Q=U;V=y.extend(true,{},z[U]||{},N[U].options||{});if(U in S.latLng){if(N[U].values){x(N[U].values,T,T[U],{todo:N[U],opts:V,session:R})}else{v(T,T[U],S.latLng[U],{todo:N[U],opts:V,session:R})}}else{if(U in S.geoloc){o(T,T[U],{todo:N[U],opts:V,session:R})}else{T[U].apply(T,[{todo:N[U],opts:V,session:R}])}}return}else{R[U]=null}}L.apply(T,[N,R])};this.ack=function(U){R[Q]=U;P.run.apply(P,[])}}function c(N){var L,M=[];for(L in N){M.push(L)}return M}function b(N,Q){var L={};if(N.todo){for(var M in N.todo){if((M!=="options")&&(M!=="values")){L[M]=N.todo[M]}}}var O,P=["data","tag","id","events","onces"];for(O=0;O<P.length;O++){A(L,P[O],Q,N.todo)}L.options=y.extend({},N.opts||{},Q.options||{});return L}function A(N,M){for(var L=2;L<arguments.length;L++){if(M in arguments[L]){N[M]=arguments[L][M];return}}}function r(){var L=[];this.get=function(S){if(L.length){var P,O,N,R,M,Q=c(S);for(P=0;P<L.length;P++){R=L[P];M=Q.length==R.keys.length;for(O=0;(O<Q.length)&&M;O++){N=Q[O];M=N in R.request;if(M){if((typeof S[N]==="object")&&("equals" in S[N])&&(typeof S[N]==="function")){M=S[N].equals(R.request[N])}else{M=S[N]===R.request[N]}}}if(M){return R.results}}}};this.store=function(N,M){L.push({request:N,keys:c(N),results:M})}}function e(Q,P,O,L){var N=this,M=[];z.classes.OverlayView.call(this);this.setMap(Q);this.onAdd=function(){var R=this.getPanes();if(P.pane in R){y(R[P.pane]).append(L)}y.each("dblclick click mouseover mousemove mouseout mouseup mousedown".split(" "),function(T,S){M.push(google.maps.event.addDomListener(L[0],S,function(U){y.Event(U).stopPropagation();google.maps.event.trigger(N,S,[U]);N.draw()}))});M.push(google.maps.event.addDomListener(L[0],"contextmenu",function(S){y.Event(S).stopPropagation();google.maps.event.trigger(N,"rightclick",[S]);N.draw()}))};this.getPosition=function(){return O};this.draw=function(){var R=this.getProjection().fromLatLngToDivPixel(O);L.css("left",(R.x+P.offset.x)+"px").css("top",(R.y+P.offset.y)+"px")};this.onRemove=function(){for(var R=0;R<M.length;R++){google.maps.event.removeListener(M[R])}L.remove()};this.hide=function(){L.hide()};this.show=function(){L.show()};this.toggle=function(){if(L){if(L.is(":visible")){this.show()}else{this.hide()}}};this.toggleDOM=function(){if(this.getMap()){this.setMap(null)}else{this.setMap(Q)}};this.getDOMElement=function(){return L[0]}}function f(O,L){function M(){this.onAdd=function(){};this.onRemove=function(){};this.draw=function(){};return z.classes.OverlayView.apply(this,[])}M.prototype=z.classes.OverlayView.prototype;var N=new M();N.setMap(O);return N}function F(ae,ao,aa){var an=false,ai=false,af=false,Z=false,W=true,V=this,N=[],T={},ad={},U={},aj=[],ah=[],O=[],ak=f(ao,aa.radius),Y,ap,am,P,Q;S();function L(aq){if(!aj[aq]){delete ah[aq].options.map;aj[aq]=new z.classes.Marker(ah[aq].options);n(ae,{todo:ah[aq]},aj[aq],ah[aq].id)}}this.getById=function(aq){if(aq in ad){L(ad[aq]);return aj[ad[aq]]}return false};this.rm=function(ar){var aq=ad[ar];if(aj[aq]){aj[aq].setMap(null)}delete aj[aq];aj[aq]=false;delete ah[aq];ah[aq]=false;delete O[aq];O[aq]=false;delete ad[ar];delete U[aq];ai=true};this.clearById=function(aq){if(aq in ad){this.rm(aq);return true}};this.clear=function(az,av,aA){var ar,ay,at,aw,au,ax=[],aq=C(aA);if(az){ar=ah.length-1;ay=-1;at=-1}else{ar=0;ay=ah.length;at=1}for(aw=ar;aw!=ay;aw+=at){if(ah[aw]){if(!aq||aq(ah[aw].tag)){ax.push(U[aw]);if(av||az){break}}}}for(au=0;au<ax.length;au++){this.rm(ax[au])}};this.add=function(aq,ar){aq.id=k(aq.id);this.clearById(aq.id);ad[aq.id]=aj.length;U[aj.length]=aq.id;aj.push(null);ah.push(aq);O.push(ar);ai=true};this.addMarker=function(ar,aq){aq=aq||{};aq.id=k(aq.id);this.clearById(aq.id);if(!aq.options){aq.options={}}aq.options.position=ar.getPosition();n(ae,{todo:aq},ar,aq.id);ad[aq.id]=aj.length;U[aj.length]=aq.id;aj.push(ar);ah.push(aq);O.push(aq.data||{});ai=true};this.todo=function(aq){return ah[aq]};this.value=function(aq){return O[aq]};this.marker=function(aq){if(aq in aj){L(aq);return aj[aq]}return false};this.markerIsSet=function(aq){return Boolean(aj[aq])};this.setMarker=function(ar,aq){aj[ar]=aq};this.store=function(aq,ar,at){T[aq.ref]={obj:ar,shadow:at}};this.free=function(){for(var aq=0;aq<N.length;aq++){google.maps.event.removeListener(N[aq])}N=[];y.each(T,function(ar){ac(ar)});T={};y.each(ah,function(ar){ah[ar]=null});ah=[];y.each(aj,function(ar){if(aj[ar]){aj[ar].setMap(null);delete aj[ar]}});aj=[];y.each(O,function(ar){delete O[ar]});O=[];ad={};U={}};this.filter=function(aq){am=aq;ag()};this.enable=function(aq){if(W!=aq){W=aq;ag()}};this.display=function(aq){P=aq};this.error=function(aq){Q=aq};this.beginUpdate=function(){an=true};this.endUpdate=function(){an=false;if(ai){ag()}};this.autofit=function(ar){for(var aq=0;aq<ah.length;aq++){if(ah[aq]){ar.extend(ah[aq].options.position)}}};function S(){ap=ak.getProjection();if(!ap){setTimeout(function(){S.apply(V,[])},25);return}Z=true;N.push(google.maps.event.addListener(ao,"zoom_changed",function(){al()}));N.push(google.maps.event.addListener(ao,"bounds_changed",function(){al()}));ag()}function ac(aq){if(typeof T[aq]==="object"){if(typeof(T[aq].obj.setMap)==="function"){T[aq].obj.setMap(null)}if(typeof(T[aq].obj.remove)==="function"){T[aq].obj.remove()}if(typeof(T[aq].shadow.remove)==="function"){T[aq].obj.remove()}if(typeof(T[aq].shadow.setMap)==="function"){T[aq].shadow.setMap(null)}delete T[aq].obj;delete T[aq].shadow}else{if(aj[aq]){aj[aq].setMap(null)}}delete T[aq]}function M(){var ay,ax,aw,au,av,at,ar,aq;if(arguments[0] instanceof google.maps.LatLng){ay=arguments[0].lat();aw=arguments[0].lng();if(arguments[1] instanceof google.maps.LatLng){ax=arguments[1].lat();au=arguments[1].lng()}else{ax=arguments[1];au=arguments[2]}}else{ay=arguments[0];aw=arguments[1];if(arguments[2] instanceof google.maps.LatLng){ax=arguments[2].lat();au=arguments[2].lng()}else{ax=arguments[2];au=arguments[3]}}av=Math.PI*ay/180;at=Math.PI*aw/180;ar=Math.PI*ax/180;aq=Math.PI*au/180;return 1000*6371*Math.acos(Math.min(Math.cos(av)*Math.cos(ar)*Math.cos(at)*Math.cos(aq)+Math.cos(av)*Math.sin(at)*Math.cos(ar)*Math.sin(aq)+Math.sin(av)*Math.sin(ar),1))}function R(){var aq=M(ao.getCenter(),ao.getBounds().getNorthEast()),ar=new google.maps.Circle({center:ao.getCenter(),radius:1.25*aq});return ar.getBounds()}function X(){var ar={},aq;for(aq in T){ar[aq]=true}return ar}function al(){clearTimeout(Y);Y=setTimeout(function(){ag()},25)}function ab(ar){var au=ap.fromLatLngToDivPixel(ar),at=ap.fromDivPixelToLatLng(new google.maps.Point(au.x+aa.radius,au.y-aa.radius)),aq=ap.fromDivPixelToLatLng(new google.maps.Point(au.x-aa.radius,au.y+aa.radius));return new google.maps.LatLngBounds(aq,at)}function ag(){if(an||af||!Z){return}var aA=[],aC={},aB=ao.getZoom(),aD=("maxZoom" in aa)&&(aB>aa.maxZoom),aw=X(),av,au,at,ay,ar=false,aq,az,ax;ai=false;if(aB>3){aq=R();ar=aq.getSouthWest().lng()<aq.getNorthEast().lng()}for(av=0;av<ah.length;av++){if(ah[av]&&(!ar||aq.contains(ah[av].options.position))&&(!am||am(O[av]))){aA.push(av)}}while(1){av=0;while(aC[av]&&(av<aA.length)){av++}if(av==aA.length){break}ay=[];if(W&&!aD){ax=ah[aA[av]].options.position;aq=ab(ax);for(au=av;au<aA.length;au++){if(aC[au]){continue}if(aq.contains(ah[aA[au]].options.position)){ay.push(au)}}}else{for(au=av;au<aA.length;au++){if(aC[au]){continue}ay.push(au);break}}az={indexes:[],ref:[]};ax={lat:0,lng:0};for(at=0;at<ay.length;at++){aC[ay[at]]=true;az.indexes.push(aA[ay[at]]);az.ref.push(aA[ay[at]]);ax.lat+=ah[ay[at]].options.position.lat();ax.lng+=ah[ay[at]].options.position.lng()}az.latLng=new google.maps.LatLng(ax.lat/ay.length,ax.lng/ay.length);az.ref=az.ref.join("-");if(az.ref in aw){delete aw[az.ref]}else{if(ay.length===1){T[az.ref]=true}(function(aE){setTimeout(function(){P(aE)},1)})(az)}}y.each(aw,function(aE){ac(aE)});af=false}}function a(M,L){this.id=function(){return M};this.filter=function(N){L.filter(N)};this.enable=function(){L.enable(true)};this.disable=function(){L.enable(false)};this.add=function(O,N,P){if(!P){L.beginUpdate()}L.addMarker(O,N);if(!P){L.endUpdate()}};this.getById=function(N){return L.getById(N)};this.clearById=function(P,O){var N;if(!O){L.beginUpdate()}N=L.clearById(P);if(!O){L.endUpdate()}return N};this.clear=function(P,Q,N,O){if(!O){L.beginUpdate()}L.clear(P,Q,N);if(!O){L.endUpdate()}}}function D(){var M={},N={};function L(P){return{id:P.id,name:P.name,object:P.obj,tag:P.tag,data:P.data}}this.add=function(R,Q,T,S){var P=R.todo||{},U=k(P.id);if(!M[Q]){M[Q]=[]}if(U in N){this.clearById(U)}N[U]={obj:T,sub:S,name:Q,id:U,tag:P.tag,data:P.data};M[Q].push(U);return U};this.getById=function(R,Q,P){if(R in N){if(Q){return N[R].sub}else{if(P){return L(N[R])}}return N[R].obj}return false};this.get=function(R,T,P,S){var V,U,Q=C(P);if(!M[R]||!M[R].length){return null}V=M[R].length;while(V){V--;U=M[R][T?V:M[R].length-V-1];if(U&&N[U]){if(Q&&!Q(N[U].tag)){continue}return S?L(N[U]):N[U].obj}}return null};this.all=function(S,Q,T){var P=[],R=C(Q),U=function(X){var V,W;for(V=0;V<M[X].length;V++){W=M[X][V];if(W&&N[W]){if(R&&!R(N[W].tag)){continue}P.push(T?L(N[W]):N[W].obj)}}};if(S in M){U(S)}else{if(S===t){for(S in M){U(S)}}}return P};function O(P){if(typeof(P.setMap)==="function"){P.setMap(null)}if(typeof(P.remove)==="function"){P.remove()}if(typeof(P.free)==="function"){P.free()}P=null}this.rm=function(S,Q,R){var P,T;if(!M[S]){return false}if(Q){if(R){for(P=M[S].length-1;P>=0;P--){T=M[S][P];if(Q(N[T].tag)){break}}}else{for(P=0;P<M[S].length;P++){T=M[S][P];if(Q(N[T].tag)){break}}}}else{P=R?M[S].length-1:0}if(!(P in M[S])){return false}return this.clearById(M[S][P],P)};this.clearById=function(S,P){if(S in N){var R,Q=N[S].name;for(R=0;P===t&&R<M[Q].length;R++){if(S===M[Q][R]){P=R}}O(N[S].obj);if(N[S].sub){O(N[S].sub)}delete N[S];M[Q].splice(P,1);return true}return false};this.objGetById=function(R){var Q;if(M.clusterer){for(var P in M.clusterer){if((Q=N[M.clusterer[P]].obj.getById(R))!==false){return Q}}}return false};this.objClearById=function(Q){if(M.clusterer){for(var P in M.clusterer){if(N[M.clusterer[P]].obj.clearById(Q)){return true}}}return null};this.clear=function(V,U,W,P){var R,T,S,Q=C(P);if(!V||!V.length){V=[];for(R in M){V.push(R)}}else{V=g(V)}for(T=0;T<V.length;T++){S=V[T];if(U){this.rm(S,Q,true)}else{if(W){this.rm(S,Q,false)}else{while(this.rm(S,Q,false)){}}}}};this.objClear=function(S,R,T,Q){if(M.clusterer&&(y.inArray("marker",S)>=0||!S.length)){for(var P in M.clusterer){N[M.clusterer[P]].obj.clear(R,T,Q)}}}}var m={},H=new r();function p(){if(!m.geocoder){m.geocoder=new google.maps.Geocoder()}return m.geocoder}function G(){if(!m.directionsService){m.directionsService=new google.maps.DirectionsService()}return m.directionsService}function h(){if(!m.elevationService){m.elevationService=new google.maps.ElevationService()}return m.elevationService}function q(){if(!m.maxZoomService){m.maxZoomService=new google.maps.MaxZoomService()}return m.maxZoomService}function B(){if(!m.distanceMatrixService){m.distanceMatrixService=new google.maps.DistanceMatrixService()}return m.distanceMatrixService}function u(){if(z.verbose){var L,M=[];if(window.console&&(typeof console.error==="function")){for(L=0;L<arguments.length;L++){M.push(arguments[L])}console.error.apply(console,M)}else{M="";for(L=0;L<arguments.length;L++){M+=arguments[L].toString()+" "}alert(M)}}}function E(L){return(typeof(L)==="number"||typeof(L)==="string")&&L!==""&&!isNaN(L)}function g(N){var M,L=[];if(N!==t){if(typeof(N)==="object"){if(typeof(N.length)==="number"){L=N}else{for(M in N){L.push(N[M])}}}else{L.push(N)}}return L}function C(L){if(L){if(typeof L==="function"){return L}L=g(L);return function(N){if(N===t){return false}if(typeof N==="object"){for(var M=0;M<N.length;M++){if(y.inArray(N[M],L)>=0){return true}}return false}return y.inArray(N,L)>=0}}}function I(M,O,L){var N=O?M:null;if(!M||(typeof M==="string")){return N}if(M.latLng){return I(M.latLng)}if(M instanceof google.maps.LatLng){return M}else{if(E(M.lat)){return new google.maps.LatLng(M.lat,M.lng)}else{if(!L&&y.isArray(M)){if(!E(M[0])||!E(M[1])){return N}return new google.maps.LatLng(M[0],M[1])}}}return N}function j(M){var N,L;if(!M||M instanceof google.maps.LatLngBounds){return M||null}if(y.isArray(M)){if(M.length==2){N=I(M[0]);L=I(M[1])}else{if(M.length==4){N=I([M[0],M[1]]);L=I([M[2],M[3]])}}}else{if(("ne" in M)&&("sw" in M)){N=I(M.ne);L=I(M.sw)}else{if(("n" in M)&&("e" in M)&&("s" in M)&&("w" in M)){N=I([M.n,M.e]);L=I([M.s,M.w])}}}if(N&&L){return new google.maps.LatLngBounds(L,N)}return null}function v(T,L,O,S,P){var N=O?I(S.todo,false,true):false,R=N?{latLng:N}:(S.todo.address?(typeof(S.todo.address)==="string"?{address:S.todo.address}:S.todo.address):false),M=R?H.get(R):false,Q=this;if(R){P=P||0;if(M){S.latLng=M.results[0].geometry.location;S.results=M.results;S.status=M.status;L.apply(T,[S])}else{if(R.location){R.location=I(R.location)}if(R.bounds){R.bounds=j(R.bounds)}p().geocode(R,function(V,U){if(U===google.maps.GeocoderStatus.OK){H.store(R,{results:V,status:U});S.latLng=V[0].geometry.location;S.results=V;S.status=U;L.apply(T,[S])}else{if((U===google.maps.GeocoderStatus.OVER_QUERY_LIMIT)&&(P<z.queryLimit.attempt)){setTimeout(function(){v.apply(Q,[T,L,O,S,P+1])},z.queryLimit.delay+Math.floor(Math.random()*z.queryLimit.random))}else{u("geocode failed",U,R);S.latLng=S.results=false;S.status=U;L.apply(T,[S])}}})}}else{S.latLng=I(S.todo,false,true);L.apply(T,[S])}}function x(Q,L,R,M){var O=this,N=-1;function P(){do{N++}while((N<Q.length)&&!("address" in Q[N]));if(N>=Q.length){R.apply(L,[M]);return}v(O,function(S){delete S.todo;y.extend(Q[N],S);P.apply(O,[])},true,{todo:Q[N]})}P()}function o(L,O,M){var N=false;if(navigator&&navigator.geolocation){navigator.geolocation.getCurrentPosition(function(P){if(N){return}N=true;M.latLng=new google.maps.LatLng(P.coords.latitude,P.coords.longitude);O.apply(L,[M])},function(){if(N){return}N=true;M.latLng=false;O.apply(L,[M])},M.opts.getCurrentPosition)}else{M.latLng=false;O.apply(L,[M])}}function K(T){var S=this,U=new l(),V=new D(),N=null,P;this._plan=function(Z){for(var Y=0;Y<Z.length;Y++){U.add(new w(S,R,Z[Y]))}Q()};function Q(){if(!P&&(P=U.get())){P.run()}}function R(){P=null;U.ack();Q.call(S)}function X(Y){if(Y.todo.callback){var Z=Array.prototype.slice.call(arguments,1);if(typeof Y.todo.callback==="function"){Y.todo.callback.apply(T,Z)}else{if(y.isArray(Y.todo.callback)){if(typeof Y.todo.callback[1]==="function"){Y.todo.callback[1].apply(Y.todo.callback[0],Z)}}}}}function O(Y,Z,aa){if(aa){n(T,Y,Z,aa)}X(Y,Z);P.ack(Z)}function L(aa,Y){Y=Y||{};if(N){if(Y.todo&&Y.todo.options){if(Y.todo.options.center){Y.todo.options.center=I(Y.todo.options.center)}N.setOptions(Y.todo.options)}}else{var Z=Y.opts||y.extend(true,{},z.map,Y.todo&&Y.todo.options?Y.todo.options:{});Z.center=aa||I(Z.center);N=new z.classes.Map(T.get(0),Z)}}this.map=function(Y){L(Y.latLng,Y);n(T,Y,N);O(Y,N)};this.destroy=function(Y){V.clear();T.empty();if(N){N=null}O(Y,true)};this.infowindow=function(Z){var aa=[],Y="values" in Z.todo;if(!Y){if(Z.latLng){Z.opts.position=Z.latLng}Z.todo.values=[{options:Z.opts}]}y.each(Z.todo.values,function(ac,ad){var af,ae,ab=b(Z,ad);ab.options.position=ab.options.position?I(ab.options.position):I(ad.latLng);if(!N){L(ab.options.position)}ae=new z.classes.InfoWindow(ab.options);if(ae&&((ab.open===t)||ab.open)){if(Y){ae.open(N,ab.anchor?ab.anchor:t)}else{ae.open(N,ab.anchor?ab.anchor:(Z.latLng?t:(Z.session.marker?Z.session.marker:t)))}}aa.push(ae);af=V.add({todo:ab},"infowindow",ae);n(T,{todo:ab},ae,af)});O(Z,Y?aa:aa[0])};this.circle=function(Z){var aa=[],Y="values" in Z.todo;if(!Y){Z.opts.center=Z.latLng||I(Z.opts.center);Z.todo.values=[{options:Z.opts}]}if(!Z.todo.values.length){O(Z,false);return}y.each(Z.todo.values,function(ac,ad){var af,ae,ab=b(Z,ad);ab.options.center=ab.options.center?I(ab.options.center):I(ad);if(!N){L(ab.options.center)}ab.options.map=N;ae=new z.classes.Circle(ab.options);aa.push(ae);af=V.add({todo:ab},"circle",ae);n(T,{todo:ab},ae,af)});O(Z,Y?aa:aa[0])};this.overlay=function(aa,Z){var ab=[],Y="values" in aa.todo;if(!Y){aa.todo.values=[{latLng:aa.latLng,options:aa.opts}]}if(!aa.todo.values.length){O(aa,false);return}if(!e.__initialised){e.prototype=new z.classes.OverlayView();e.__initialised=true}y.each(aa.todo.values,function(ae,af){var ah,ag,ac=b(aa,af),ad=y(document.createElement("div")).css({border:"none",borderWidth:"0px",position:"absolute"});ad.append(ac.options.content);ag=new e(N,ac.options,I(ac)||I(af),ad);ab.push(ag);ad=null;if(!Z){ah=V.add(aa,"overlay",ag);n(T,{todo:ac},ag,ah)}});if(Z){return ab[0]}O(aa,Y?ab:ab[0])};this.getaddress=function(Y){X(Y,Y.results,Y.status);P.ack()};this.getlatlng=function(Y){X(Y,Y.results,Y.status);P.ack()};this.getmaxzoom=function(Y){q().getMaxZoomAtLatLng(Y.latLng,function(Z){X(Y,Z.status===google.maps.MaxZoomStatus.OK?Z.zoom:false,status);P.ack()})};this.getelevation=function(Z){var aa,Y=[],ab=function(ad,ac){X(Z,ac===google.maps.ElevationStatus.OK?ad:false,ac);P.ack()};if(Z.latLng){Y.push(Z.latLng)}else{Y=g(Z.todo.locations||[]);for(aa=0;aa<Y.length;aa++){Y[aa]=I(Y[aa])}}if(Y.length){h().getElevationForLocations({locations:Y},ab)}else{if(Z.todo.path&&Z.todo.path.length){for(aa=0;aa<Z.todo.path.length;aa++){Y.push(I(Z.todo.path[aa]))}}if(Y.length){h().getElevationAlongPath({path:Y,samples:Z.todo.samples},ab)}else{P.ack()}}};this.defaults=function(Y){y.each(Y.todo,function(Z,aa){if(typeof z[Z]==="object"){z[Z]=y.extend({},z[Z],aa)}else{z[Z]=aa}});P.ack(true)};this.rectangle=function(Z){var aa=[],Y="values" in Z.todo;if(!Y){Z.todo.values=[{options:Z.opts}]}if(!Z.todo.values.length){O(Z,false);return}y.each(Z.todo.values,function(ac,ad){var af,ae,ab=b(Z,ad);ab.options.bounds=ab.options.bounds?j(ab.options.bounds):j(ad);if(!N){L(ab.options.bounds.getCenter())}ab.options.map=N;ae=new z.classes.Rectangle(ab.options);aa.push(ae);af=V.add({todo:ab},"rectangle",ae);n(T,{todo:ab},ae,af)});O(Z,Y?aa:aa[0])};function M(Z,aa,ab){var ac=[],Y="values" in Z.todo;if(!Y){Z.todo.values=[{options:Z.opts}]}if(!Z.todo.values.length){O(Z,false);return}L();y.each(Z.todo.values,function(af,ah){var aj,ag,ae,ai,ad=b(Z,ah);if(ad.options[ab]){if(ad.options[ab][0][0]&&y.isArray(ad.options[ab][0][0])){for(ag=0;ag<ad.options[ab].length;ag++){for(ae=0;ae<ad.options[ab][ag].length;ae++){ad.options[ab][ag][ae]=I(ad.options[ab][ag][ae])}}}else{for(ag=0;ag<ad.options[ab].length;ag++){ad.options[ab][ag]=I(ad.options[ab][ag])}}}ad.options.map=N;ai=new google.maps[aa](ad.options);ac.push(ai);aj=V.add({todo:ad},aa.toLowerCase(),ai);n(T,{todo:ad},ai,aj)});O(Z,Y?ac:ac[0])}this.polyline=function(Y){M(Y,"Polyline","path")};this.polygon=function(Y){M(Y,"Polygon","paths")};this.trafficlayer=function(Y){L();var Z=V.get("trafficlayer");if(!Z){Z=new z.classes.TrafficLayer();Z.setMap(N);V.add(Y,"trafficlayer",Z)}O(Y,Z)};this.bicyclinglayer=function(Y){L();var Z=V.get("bicyclinglayer");if(!Z){Z=new z.classes.BicyclingLayer();Z.setMap(N);V.add(Y,"bicyclinglayer",Z)}O(Y,Z)};this.groundoverlay=function(Y){Y.opts.bounds=j(Y.opts.bounds);if(Y.opts.bounds){L(Y.opts.bounds.getCenter())}var aa,Z=new z.classes.GroundOverlay(Y.opts.url,Y.opts.bounds,Y.opts.opts);Z.setMap(N);aa=V.add(Y,"groundoverlay",Z);O(Y,Z,aa)};this.streetviewpanorama=function(Y){if(!Y.opts.opts){Y.opts.opts={}}if(Y.latLng){Y.opts.opts.position=Y.latLng}else{if(Y.opts.opts.position){Y.opts.opts.position=I(Y.opts.opts.position)}}if(Y.todo.divId){Y.opts.container=document.getElementById(Y.todo.divId)}else{if(Y.opts.container){Y.opts.container=y(Y.opts.container).get(0)}}var aa,Z=new z.classes.StreetViewPanorama(Y.opts.container,Y.opts.opts);if(Z){N.setStreetView(Z)}aa=V.add(Y,"streetviewpanorama",Z);O(Y,Z,aa)};this.kmllayer=function(Z){var aa=[],Y="values" in Z.todo;if(!Y){Z.todo.values=[{options:Z.opts}]}if(!Z.todo.values.length){O(Z,false);return}y.each(Z.todo.values,function(ad,ae){var ag,af,ac,ab=b(Z,ae);if(!N){L()}ac=ab.options;if(ab.options.opts){ac=ab.options.opts;if(ab.options.url){ac.url=ab.options.url}}ac.map=N;if(d("3.10")){af=new z.classes.KmlLayer(ac)}else{af=new z.classes.KmlLayer(ac.url,ac)}aa.push(af);ag=V.add({todo:ab},"kmllayer",af);n(T,{todo:ab},af,ag)});O(Z,Y?aa:aa[0])};this.panel=function(ab){L();var ad,Y=0,ac=0,aa,Z=y(document.createElement("div"));Z.css({position:"absolute",zIndex:1000,visibility:"hidden"});if(ab.opts.content){aa=y(ab.opts.content);Z.append(aa);T.first().prepend(Z);if(ab.opts.left!==t){Y=ab.opts.left}else{if(ab.opts.right!==t){Y=T.width()-aa.width()-ab.opts.right}else{if(ab.opts.center){Y=(T.width()-aa.width())/2}}}if(ab.opts.top!==t){ac=ab.opts.top}else{if(ab.opts.bottom!==t){ac=T.height()-aa.height()-ab.opts.bottom}else{if(ab.opts.middle){ac=(T.height()-aa.height())/2}}}Z.css({top:ac,left:Y,visibility:"visible"})}ad=V.add(ab,"panel",Z);O(ab,Z,ad);Z=null};function W(aa){var af=new F(T,N,aa),Y={},ab={},ae=[],ad=/^[0-9]+$/,ac,Z;for(Z in aa){if(ad.test(Z)){ae.push(1*Z);ab[Z]=aa[Z];ab[Z].width=ab[Z].width||0;ab[Z].height=ab[Z].height||0}else{Y[Z]=aa[Z]}}ae.sort(function(ah,ag){return ah>ag});if(Y.calculator){ac=function(ag){var ah=[];y.each(ag,function(aj,ai){ah.push(af.value(ai))});return Y.calculator.apply(T,[ah])}}else{ac=function(ag){return ag.length}}af.error(function(){u.apply(S,arguments)});af.display(function(ag){var ai,aj,am,ak,al,ah=ac(ag.indexes);if(aa.force||ah>1){for(ai=0;ai<ae.length;ai++){if(ae[ai]<=ah){aj=ab[ae[ai]]}}}if(aj){al=aj.offset||[-aj.width/2,-aj.height/2];am=y.extend({},Y);am.options=y.extend({pane:"overlayLayer",content:aj.content?aj.content.replace("CLUSTER_COUNT",ah):"",offset:{x:("x" in al?al.x:al[0])||0,y:("y" in al?al.y:al[1])||0}},Y.options||{});ak=S.overlay({todo:am,opts:am.options,latLng:I(ag)},true);am.options.pane="floatShadow";am.options.content=y(document.createElement("div")).width(aj.width+"px").height(aj.height+"px").css({cursor:"pointer"});shadow=S.overlay({todo:am,opts:am.options,latLng:I(ag)},true);Y.data={latLng:I(ag),markers:[]};y.each(ag.indexes,function(ao,an){Y.data.markers.push(af.value(an));if(af.markerIsSet(an)){af.marker(an).setMap(null)}});n(T,{todo:Y},shadow,t,{main:ak,shadow:shadow});af.store(ag,ak,shadow)}else{y.each(ag.indexes,function(ao,an){af.marker(an).setMap(N)})}});return af}this.marker=function(aa){var Y="values" in aa.todo,ad=!N;if(!Y){aa.opts.position=aa.latLng||I(aa.opts.position);aa.todo.values=[{options:aa.opts}]}if(!aa.todo.values.length){O(aa,false);return}if(ad){L()}if(aa.todo.cluster&&!N.getBounds()){google.maps.event.addListenerOnce(N,"bounds_changed",function(){S.marker.apply(S,[aa])});return}if(aa.todo.cluster){var Z,ab;if(aa.todo.cluster instanceof a){Z=aa.todo.cluster;ab=V.getById(Z.id(),true)}else{ab=W(aa.todo.cluster);Z=new a(k(aa.todo.id,true),ab);V.add(aa,"clusterer",Z,ab)}ab.beginUpdate();y.each(aa.todo.values,function(af,ag){var ae=b(aa,ag);ae.options.position=ae.options.position?I(ae.options.position):I(ag);ae.options.map=N;if(ad){N.setCenter(ae.options.position);ad=false}ab.add(ae,ag)});ab.endUpdate();O(aa,Z)}else{var ac=[];y.each(aa.todo.values,function(af,ag){var ai,ah,ae=b(aa,ag);ae.options.position=ae.options.position?I(ae.options.position):I(ag);ae.options.map=N;if(ad){N.setCenter(ae.options.position);ad=false}ah=new z.classes.Marker(ae.options);ac.push(ah);ai=V.add({todo:ae},"marker",ah);n(T,{todo:ae},ah,ai)});O(aa,Y?ac:ac[0])}};this.getroute=function(Y){Y.opts.origin=I(Y.opts.origin,true);Y.opts.destination=I(Y.opts.destination,true);G().route(Y.opts,function(aa,Z){X(Y,Z==google.maps.DirectionsStatus.OK?aa:false,Z);P.ack()})};this.directionsrenderer=function(Y){Y.opts.map=N;var aa,Z=new google.maps.DirectionsRenderer(Y.opts);if(Y.todo.divId){Z.setPanel(document.getElementById(Y.todo.divId))}else{if(Y.todo.container){Z.setPanel(y(Y.todo.container).get(0))}}aa=V.add(Y,"directionsrenderer",Z);O(Y,Z,aa)};this.getgeoloc=function(Y){O(Y,Y.latLng)};this.styledmaptype=function(Y){L();var Z=new z.classes.StyledMapType(Y.todo.styles,Y.opts);N.mapTypes.set(Y.todo.id,Z);O(Y,Z)};this.imagemaptype=function(Y){L();var Z=new z.classes.ImageMapType(Y.opts);N.mapTypes.set(Y.todo.id,Z);O(Y,Z)};this.autofit=function(Y){var Z=new google.maps.LatLngBounds();y.each(V.all(),function(aa,ab){if(ab.getPosition){Z.extend(ab.getPosition())}else{if(ab.getBounds){Z.extend(ab.getBounds().getNorthEast());Z.extend(ab.getBounds().getSouthWest())}else{if(ab.getPaths){ab.getPaths().forEach(function(ac){ac.forEach(function(ad){Z.extend(ad)})})}else{if(ab.getPath){ab.getPath().forEach(function(ac){Z.extend(ac);""})}else{if(ab.getCenter){Z.extend(ab.getCenter())}else{if(ab instanceof a){ab=V.getById(ab.id(),true);if(ab){ab.autofit(Z)}}}}}}}});if(!Z.isEmpty()&&(!N.getBounds()||!N.getBounds().equals(Z))){if("maxZoom" in Y.todo){google.maps.event.addListenerOnce(N,"bounds_changed",function(){if(this.getZoom()>Y.todo.maxZoom){this.setZoom(Y.todo.maxZoom)}})}N.fitBounds(Z)}O(Y,true)};this.clear=function(Y){if(typeof Y.todo==="string"){if(V.clearById(Y.todo)||V.objClearById(Y.todo)){O(Y,true);return}Y.todo={name:Y.todo}}if(Y.todo.id){y.each(g(Y.todo.id),function(Z,aa){V.clearById(aa)||V.objClearById(aa)})}else{V.clear(g(Y.todo.name),Y.todo.last,Y.todo.first,Y.todo.tag);V.objClear(g(Y.todo.name),Y.todo.last,Y.todo.first,Y.todo.tag)}O(Y,true)};this.exec=function(Y){var Z=this;y.each(g(Y.todo.func),function(aa,ab){y.each(Z.get(Y.todo,true,Y.todo.hasOwnProperty("full")?Y.todo.full:true),function(ac,ad){ab.call(T,ad)})});O(Y,true)};this.get=function(aa,ad,ac){var Z,ab,Y=ad?aa:aa.todo;if(!ad){ac=Y.full}if(typeof Y==="string"){ab=V.getById(Y,false,ac)||V.objGetById(Y);if(ab===false){Z=Y;Y={}}}else{Z=Y.name}if(Z==="map"){ab=N}if(!ab){ab=[];if(Y.id){y.each(g(Y.id),function(ae,af){ab.push(V.getById(af,false,ac)||V.objGetById(af))});if(!y.isArray(Y.id)){ab=ab[0]}}else{y.each(Z?g(Z):[t],function(af,ag){var ae;if(Y.first){ae=V.get(ag,false,Y.tag,ac);if(ae){ab.push(ae)}}else{if(Y.all){y.each(V.all(ag,Y.tag,ac),function(ai,ah){ab.push(ah)})}else{ae=V.get(ag,true,Y.tag,ac);if(ae){ab.push(ae)}}}});if(!Y.all&&!y.isArray(Z)){ab=ab[0]}}}ab=y.isArray(ab)||!Y.all?ab:[ab];if(ad){return ab}else{O(aa,ab)}};this.getdistance=function(Y){var Z;Y.opts.origins=g(Y.opts.origins);for(Z=0;Z<Y.opts.origins.length;Z++){Y.opts.origins[Z]=I(Y.opts.origins[Z],true)}Y.opts.destinations=g(Y.opts.destinations);for(Z=0;Z<Y.opts.destinations.length;Z++){Y.opts.destinations[Z]=I(Y.opts.destinations[Z],true)}B().getDistanceMatrix(Y.opts,function(ab,aa){X(Y,aa===google.maps.DistanceMatrixStatus.OK?ab:false,aa);P.ack()})};this.trigger=function(Z){if(typeof Z.todo==="string"){google.maps.event.trigger(N,Z.todo)}else{var Y=[N,Z.todo.eventName];if(Z.todo.var_args){y.each(Z.todo.var_args,function(ab,aa){Y.push(aa)})}google.maps.event.trigger.apply(google.maps.event,Y)}X(Z);P.ack()}}function s(M){var L;if(!typeof M==="object"||!M.hasOwnProperty("get")){return false}for(L in M){if(L!=="get"){return false}}return !M.get.hasOwnProperty("callback")}y.fn.gmap3=function(){var M,O=[],N=true,L=[];J();for(M=0;M<arguments.length;M++){if(arguments[M]){O.push(arguments[M])}}if(!O.length){O.push("map")}y.each(this,function(){var P=y(this),Q=P.data("gmap3");N=false;if(!Q){Q=new K(P);P.data("gmap3",Q)}if(O.length===1&&(O[0]==="get"||s(O[0]))){if(O[0]==="get"){L.push(Q.get("map",true))}else{L.push(Q.get(O[0].get,true,O[0].get.full))}}else{Q._plan(O)}});if(L.length){if(L.length===1){return L[0]}else{return L}}return this}})(jQuery);




/* http://keith-wood.name/countdown.html
   Countdown for jQuery v1.6.3.
   Written by Keith Wood (kbwood{at}iinet.com.au) January 2008.
   Available under the MIT (https://github.com/jquery/jquery/blob/master/MIT-LICENSE.txt) license. 
   Please attribute the author if you use it. */

/* Display a countdown timer.
   Attach it with options like:
   $('div selector').countdown(
       {until: new Date(2009, 1 - 1, 1, 0, 0, 0), onExpiry: happyNewYear}); */
(function(e){function t(){function r(e){var o=e<1e12?n?performance.now()+performance.timing.navigationStart:t():e||t();if(o-s>=1e3){c._updateTargets();s=o}i(r)}this.regional=[];this.regional[""]={labels:["Years","Months","Weeks","Days","Hours","Minutes","Seconds"],labels1:["Year","Month","Week","Day","Hour","Minute","Second"],compactLabels:["y","m","w","d"],whichLabels:null,digits:["0","1","2","3","4","5","6","7","8","9"],timeSeparator:":",isRTL:false};this._defaults={until:null,since:null,timezone:null,serverSync:null,format:"dHMS",layout:"",compact:false,significant:0,description:"",expiryUrl:"",expiryText:"",alwaysExpire:false,onExpiry:null,onTick:null,tickInterval:1};e.extend(this._defaults,this.regional[""]);this._serverSyncs=[];var t=typeof Date.now=="function"?Date.now:function(){return(new Date).getTime()};var n=window.performance&&typeof window.performance.now=="function";var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||null;var s=0;if(!i||e.noRequestAnimationFrame){e.noRequestAnimationFrame=null;setInterval(function(){c._updateTargets()},980)}else{s=window.animationStartTime||window.webkitAnimationStartTime||window.mozAnimationStartTime||window.oAnimationStartTime||window.msAnimationStartTime||t();i(r)}}function l(t,n){if(t=="option"&&(n.length==0||n.length==1&&typeof n[0]=="string")){return true}return e.inArray(t,f)>-1}var n=0;var r=1;var i=2;var s=3;var o=4;var u=5;var a=6;e.extend(t.prototype,{markerClassName:"hasCountdown",propertyName:"countdown",_rtlClass:"countdown_rtl",_sectionClass:"countdown_section",_amountClass:"countdown_amount",_rowClass:"countdown_row",_holdingClass:"countdown_holding",_showClass:"countdown_show",_descrClass:"countdown_descr",_timerTargets:[],setDefaults:function(t){this._resetExtraLabels(this._defaults,t);e.extend(this._defaults,t||{})},UTCDate:function(e,t,n,r,i,s,o,u){if(typeof t=="object"&&t.constructor==Date){u=t.getMilliseconds();o=t.getSeconds();s=t.getMinutes();i=t.getHours();r=t.getDate();n=t.getMonth();t=t.getFullYear()}var a=new Date;a.setUTCFullYear(t);a.setUTCDate(1);a.setUTCMonth(n||0);a.setUTCDate(r||1);a.setUTCHours(i||0);a.setUTCMinutes((s||0)-(Math.abs(e)<30?e*60:e));a.setUTCSeconds(o||0);a.setUTCMilliseconds(u||0);return a},periodsToSeconds:function(e){return e[0]*31557600+e[1]*2629800+e[2]*604800+e[3]*86400+e[4]*3600+e[5]*60+e[6]},_attachPlugin:function(t,n){t=e(t);if(t.hasClass(this.markerClassName)){return}var r={options:e.extend({},this._defaults),_periods:[0,0,0,0,0,0,0]};t.addClass(this.markerClassName).data(this.propertyName,r);this._optionPlugin(t,n)},_addTarget:function(e){if(!this._hasTarget(e)){this._timerTargets.push(e)}},_hasTarget:function(t){return e.inArray(t,this._timerTargets)>-1},_removeTarget:function(t){this._timerTargets=e.map(this._timerTargets,function(e){return e==t?null:e})},_updateTargets:function(){for(var e=this._timerTargets.length-1;e>=0;e--){this._updateCountdown(this._timerTargets[e])}},_optionPlugin:function(t,n,r){t=e(t);var i=t.data(this.propertyName);if(!n||typeof n=="string"&&r==null){var s=n;n=(i||{}).options;return n&&s?n[s]:n}if(!t.hasClass(this.markerClassName)){return}n=n||{};if(typeof n=="string"){var s=n;n={};n[s]=r}if(n.layout){n.layout=n.layout.replace(/</g,"<").replace(/>/g,">")}this._resetExtraLabels(i.options,n);var o=i.options.timezone!=n.timezone;e.extend(i.options,n);this._adjustSettings(t,i,n.until!=null||n.since!=null||o);var u=new Date;if(i._since&&i._since<u||i._until&&i._until>u){this._addTarget(t[0])}this._updateCountdown(t,i)},_updateCountdown:function(t,n){var r=e(t);n=n||r.data(this.propertyName);if(!n){return}r.html(this._generateHTML(n)).toggleClass(this._rtlClass,n.options.isRTL);if(e.isFunction(n.options.onTick)){var i=n._hold!="lap"?n._periods:this._calculatePeriods(n,n._show,n.options.significant,new Date);if(n.options.tickInterval==1||this.periodsToSeconds(i)%n.options.tickInterval==0){n.options.onTick.apply(t,[i])}}var s=n._hold!="pause"&&(n._since?n._now.getTime()<n._since.getTime():n._now.getTime()>=n._until.getTime());if(s&&!n._expiring){n._expiring=true;if(this._hasTarget(t)||n.options.alwaysExpire){this._removeTarget(t);if(e.isFunction(n.options.onExpiry)){n.options.onExpiry.apply(t,[])}if(n.options.expiryText){var o=n.options.layout;n.options.layout=n.options.expiryText;this._updateCountdown(t,n);n.options.layout=o}if(n.options.expiryUrl){window.location=n.options.expiryUrl}}n._expiring=false}else if(n._hold=="pause"){this._removeTarget(t)}r.data(this.propertyName,n)},_resetExtraLabels:function(e,t){var n=false;for(var r in t){if(r!="whichLabels"&&r.match(/[Ll]abels/)){n=true;break}}if(n){for(var r in e){if(r.match(/[Ll]abels[02-9]|compactLabels1/)){e[r]=null}}}},_adjustSettings:function(t,n,r){var i;var s=0;var o=null;for(var u=0;u<this._serverSyncs.length;u++){if(this._serverSyncs[u][0]==n.options.serverSync){o=this._serverSyncs[u][1];break}}if(o!=null){s=n.options.serverSync?o:0;i=new Date}else{var a=e.isFunction(n.options.serverSync)?n.options.serverSync.apply(t,[]):null;i=new Date;s=a?i.getTime()-a.getTime():0;this._serverSyncs.push([n.options.serverSync,s])}var f=n.options.timezone;f=f==null?-i.getTimezoneOffset():f;if(r||!r&&n._until==null&&n._since==null){n._since=n.options.since;if(n._since!=null){n._since=this.UTCDate(f,this._determineTime(n._since,null));if(n._since&&s){n._since.setMilliseconds(n._since.getMilliseconds()+s)}}n._until=this.UTCDate(f,this._determineTime(n.options.until,i));if(s){n._until.setMilliseconds(n._until.getMilliseconds()+s)}}n._show=this._determineShow(n)},_destroyPlugin:function(t){t=e(t);if(!t.hasClass(this.markerClassName)){return}this._removeTarget(t[0]);t.removeClass(this.markerClassName).empty().removeData(this.propertyName)},_pausePlugin:function(e){this._hold(e,"pause")},_lapPlugin:function(e){this._hold(e,"lap")},_resumePlugin:function(e){this._hold(e,null)},_hold:function(t,n){var r=e.data(t,this.propertyName);if(r){if(r._hold=="pause"&&!n){r._periods=r._savePeriods;var i=r._since?"-":"+";r[r._since?"_since":"_until"]=this._determineTime(i+r._periods[0]+"y"+i+r._periods[1]+"o"+i+r._periods[2]+"w"+i+r._periods[3]+"d"+i+r._periods[4]+"h"+i+r._periods[5]+"m"+i+r._periods[6]+"s");this._addTarget(t)}r._hold=n;r._savePeriods=n=="pause"?r._periods:null;e.data(t,this.propertyName,r);this._updateCountdown(t,r)}},_getTimesPlugin:function(t){var n=e.data(t,this.propertyName);return!n?null:n._hold=="pause"?n._savePeriods:!n._hold?n._periods:this._calculatePeriods(n,n._show,n.options.significant,new Date)},_determineTime:function(e,t){var n=function(e){var t=new Date;t.setTime(t.getTime()+e*1e3);return t};var r=function(e){e=e.toLowerCase();var t=new Date;var n=t.getFullYear();var r=t.getMonth();var i=t.getDate();var s=t.getHours();var o=t.getMinutes();var u=t.getSeconds();var a=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g;var f=a.exec(e);while(f){switch(f[2]||"s"){case"s":u+=parseInt(f[1],10);break;case"m":o+=parseInt(f[1],10);break;case"h":s+=parseInt(f[1],10);break;case"d":i+=parseInt(f[1],10);break;case"w":i+=parseInt(f[1],10)*7;break;case"o":r+=parseInt(f[1],10);i=Math.min(i,c._getDaysInMonth(n,r));break;case"y":n+=parseInt(f[1],10);i=Math.min(i,c._getDaysInMonth(n,r));break}f=a.exec(e)}return new Date(n,r,i,s,o,u,0)};var i=e==null?t:typeof e=="string"?r(e):typeof e=="number"?n(e):e;if(i)i.setMilliseconds(0);return i},_getDaysInMonth:function(e,t){return 32-(new Date(e,t,32)).getDate()},_normalLabels:function(e){return e},_generateHTML:function(t){var f=this;t._periods=t._hold?t._periods:this._calculatePeriods(t,t._show,t.options.significant,new Date);var l=false;var h=0;var p=t.options.significant;var d=e.extend({},t._show);for(var v=n;v<=a;v++){l|=t._show[v]=="?"&&t._periods[v]>0;d[v]=t._show[v]=="?"&&!l?null:t._show[v];h+=d[v]?1:0;p-=t._periods[v]>0?1:0}var m=[false,false,false,false,false,false,false];for(var v=a;v>=n;v--){if(t._show[v]){if(t._periods[v]){m[v]=true}else{m[v]=p>0;p--}}}var g=t.options.compact?t.options.compactLabels:t.options.labels;var y=t.options.whichLabels||this._normalLabels;var b=function(e){var n=t.options["compactLabels"+y(t._periods[e])];return d[e]?f._translateDigits(t,t._periods[e])+(n?n[e]:g[e])+" ":""};var w=function(e){var n=t.options["labels"+y(t._periods[e])];return!t.options.significant&&d[e]||t.options.significant&&m[e]?'<span class="'+c._sectionClass+'">'+'<span class="'+c._amountClass+'">'+f._translateDigits(t,t._periods[e])+"</span><br/>"+(n?n[e]:g[e])+"</span>":""};return t.options.layout?this._buildLayout(t,d,t.options.layout,t.options.compact,t.options.significant,m):(t.options.compact?'<span class="'+this._rowClass+" "+this._amountClass+(t._hold?" "+this._holdingClass:"")+'">'+b(n)+b(r)+b(i)+b(s)+(d[o]?this._minDigits(t,t._periods[o],2):"")+(d[u]?(d[o]?t.options.timeSeparator:"")+this._minDigits(t,t._periods[u],2):"")+(d[a]?(d[o]||d[u]?t.options.timeSeparator:"")+this._minDigits(t,t._periods[a],2):""):'<span class="'+this._rowClass+" "+this._showClass+(t.options.significant||h)+(t._hold?" "+this._holdingClass:"")+'">'+w(n)+w(r)+w(i)+w(s)+w(o)+w(u)+w(a))+"</span>"+(t.options.description?'<span class="'+this._rowClass+" "+this._descrClass+'">'+t.options.description+"</span>":"")},_buildLayout:function(t,f,l,c,h,p){var d=t.options[c?"compactLabels":"labels"];var v=t.options.whichLabels||this._normalLabels;var m=function(e){return(t.options[(c?"compactLabels":"labels")+v(t._periods[e])]||d)[e]};var g=function(e,n){return t.options.digits[Math.floor(e/n)%10]};var y={desc:t.options.description,sep:t.options.timeSeparator,yl:m(n),yn:this._minDigits(t,t._periods[n],1),ynn:this._minDigits(t,t._periods[n],2),ynnn:this._minDigits(t,t._periods[n],3),y1:g(t._periods[n],1),y10:g(t._periods[n],10),y100:g(t._periods[n],100),y1000:g(t._periods[n],1e3),ol:m(r),on:this._minDigits(t,t._periods[r],1),onn:this._minDigits(t,t._periods[r],2),onnn:this._minDigits(t,t._periods[r],3),o1:g(t._periods[r],1),o10:g(t._periods[r],10),o100:g(t._periods[r],100),o1000:g(t._periods[r],1e3),wl:m(i),wn:this._minDigits(t,t._periods[i],1),wnn:this._minDigits(t,t._periods[i],2),wnnn:this._minDigits(t,t._periods[i],3),w1:g(t._periods[i],1),w10:g(t._periods[i],10),w100:g(t._periods[i],100),w1000:g(t._periods[i],1e3),dl:m(s),dn:this._minDigits(t,t._periods[s],1),dnn:this._minDigits(t,t._periods[s],2),dnnn:this._minDigits(t,t._periods[s],3),d1:g(t._periods[s],1),d10:g(t._periods[s],10),d100:g(t._periods[s],100),d1000:g(t._periods[s],1e3),hl:m(o),hn:this._minDigits(t,t._periods[o],1),hnn:this._minDigits(t,t._periods[o],2),hnnn:this._minDigits(t,t._periods[o],3),h1:g(t._periods[o],1),h10:g(t._periods[o],10),h100:g(t._periods[o],100),h1000:g(t._periods[o],1e3),ml:m(u),mn:this._minDigits(t,t._periods[u],1),mnn:this._minDigits(t,t._periods[u],2),mnnn:this._minDigits(t,t._periods[u],3),m1:g(t._periods[u],1),m10:g(t._periods[u],10),m100:g(t._periods[u],100),m1000:g(t._periods[u],1e3),sl:m(a),sn:this._minDigits(t,t._periods[a],1),snn:this._minDigits(t,t._periods[a],2),snnn:this._minDigits(t,t._periods[a],3),s1:g(t._periods[a],1),s10:g(t._periods[a],10),s100:g(t._periods[a],100),s1000:g(t._periods[a],1e3)};var b=l;for(var w=n;w<=a;w++){var E="yowdhms".charAt(w);var x=new RegExp("\\{"+E+"<\\}([\\s\\S]*)\\{"+E+">\\}","g");b=b.replace(x,!h&&f[w]||h&&p[w]?"$1":"")}e.each(y,function(e,t){var n=new RegExp("\\{"+e+"\\}","g");b=b.replace(n,t)});return b},_minDigits:function(e,t,n){t=""+t;if(t.length>=n){return this._translateDigits(e,t)}t="0000000000"+t;return this._translateDigits(e,t.substr(t.length-n))},_translateDigits:function(e,t){return(""+t).replace(/[0-9]/g,function(t){return e.options.digits[t]})},_determineShow:function(e){var t=e.options.format;var f=[];f[n]=t.match("y")?"?":t.match("Y")?"!":null;f[r]=t.match("o")?"?":t.match("O")?"!":null;f[i]=t.match("w")?"?":t.match("W")?"!":null;f[s]=t.match("d")?"?":t.match("D")?"!":null;f[o]=t.match("h")?"?":t.match("H")?"!":null;f[u]=t.match("m")?"?":t.match("M")?"!":null;f[a]=t.match("s")?"?":t.match("S")?"!":null;return f},_calculatePeriods:function(e,t,f,l){e._now=l;e._now.setMilliseconds(0);var h=new Date(e._now.getTime());if(e._since){if(l.getTime()<e._since.getTime()){e._now=l=h}else{l=e._since}}else{h.setTime(e._until.getTime());if(l.getTime()>e._until.getTime()){e._now=l=h}}var p=[0,0,0,0,0,0,0];if(t[n]||t[r]){var d=c._getDaysInMonth(l.getFullYear(),l.getMonth());var v=c._getDaysInMonth(h.getFullYear(),h.getMonth());var m=h.getDate()==l.getDate()||h.getDate()>=Math.min(d,v)&&l.getDate()>=Math.min(d,v);var g=function(e){return(e.getHours()*60+e.getMinutes())*60+e.getSeconds()};var y=Math.max(0,(h.getFullYear()-l.getFullYear())*12+h.getMonth()-l.getMonth()+(h.getDate()<l.getDate()&&!m||m&&g(h)<g(l)?-1:0));p[n]=t[n]?Math.floor(y/12):0;p[r]=t[r]?y-p[n]*12:0;l=new Date(l.getTime());var b=l.getDate()==d;var w=c._getDaysInMonth(l.getFullYear()+p[n],l.getMonth()+p[r]);if(l.getDate()>w){l.setDate(w)}l.setFullYear(l.getFullYear()+p[n]);l.setMonth(l.getMonth()+p[r]);if(b){l.setDate(w)}}var E=Math.floor((h.getTime()-l.getTime())/1e3);var x=function(e,n){p[e]=t[e]?Math.floor(E/n):0;E-=p[e]*n};x(i,604800);x(s,86400);x(o,3600);x(u,60);x(a,1);if(E>0&&!e._since){var T=[1,12,4.3482,7,24,60,60];var N=a;var C=1;for(var k=a;k>=n;k--){if(t[k]){if(p[N]>=C){p[N]=0;E=1}if(E>0){p[k]++;E=0;N=k;C=1}}C*=T[k]}}if(f){for(var k=n;k<=a;k++){if(f&&p[k]){f--}else if(!f){p[k]=0}}}return p}});var f=["getTimes"];e.fn.countdown=function(e){var t=Array.prototype.slice.call(arguments,1);if(l(e,t)){return c["_"+e+"Plugin"].apply(c,[this[0]].concat(t))}return this.each(function(){if(typeof e=="string"){if(!c["_"+e+"Plugin"]){throw"Unknown command: "+e}c["_"+e+"Plugin"].apply(c,[this].concat(t))}else{c._attachPlugin(this,e||{})}})};var c=e.countdown=new t})(jQuery)
